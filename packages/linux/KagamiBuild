# Description: The Linux kernel
# URL:         https://www.kernel.org/
# Maintainer:  protonesso, nagakamira at gmail dot com
# Priority:    required
# Section:     kernel

name=linux
version=5.4.13
case $version in
	*.*.*) kver=$version;;
	*.*) kver=$version.0;;
esac
release=3
options=('~strip' 'bootstrap' '~ccache')
source=("https://cdn.kernel.org/pub/linux/kernel/v5.x/$name-$version.tar.xz")

yconfig() {
	while [ $# -ne 0 ]; do
		./scripts/config --enable $1
		shift 1
	done
}

mconfig() {
	while [ $# -ne 0 ]; do
		./scripts/config --module $1
		shift 1
	done
}

nconfig() {
	while [ $# -ne 0 ]; do
		./scripts/config --disable $1
		shift 1
	done
}

varconfig() {
	FUONE="$1"
	FUTWO="$2"

	./scripts/config --set-val "$FUONE" "$FUTWO"
}

strconfig() {
	FUONE="$1"
	FUTWO="$2"

	./scripts/config --set-str "$FUONE" "$FUTWO"
}

generate_config() {
	case $BARCH in
		amd64|i386)
			SUBKARCH="x86"
			;;
		*)
			SUBKARCH="$XKARCH"
			;;
	esac

	case $BARCH in
		amd64)
			export DEFCONFIG="x86_64_defconfig"
			;;
		i386)
			export DEFCONFIG="i386_defconfig"
			;;
		arm64)
			export DEFCONFIG="defconfig"
			;;
		armhf)
			export DEFCONFIG="vexpress_defconfig"
			;;
		armel)
			export DEFCONFIG="multi_v5_defconfig"
			;;
		mips64|mips64el|mips|mipsel)
			export DEFCONFIG="malta_defconfig"
			;;
		ppc64le)
			export DEFCONFIG="pseries_le_defconfig"
			;;
		ppc64)
			case $BPPCBOARD in
				pseries)
					export DEFCONFIG="pseries_defconfig"
					;;
				ps3)
					export DEFCONFIG="ps3_defconfig"
					;;
				*)
					export DEFCONFIG="g5_defconfig"
					;;
			esac
			;;
		riscv64)
			export DEFCONFIG="defconfig"
			;;
		riscv32)
			export DEFCONFIG="rv32_defconfig"
			;;
		*)
			echo "Architecture is not set or is not supported by Ataraxia Linux"
			exit 1
	esac

	if [ "$USEBOOTSTRAP" = "yes" ]; then
		make ARCH=$XKARCH CROSS_COMPILE=${CROSS_COMPILE} $DEFCONFIG
	else
		make ARCH=$XKARCH $DEFCONFIG
	fi

	case $BARCH in
		amd64)
			yconfig 64BIT PCI E1000 SERIAL_8250 SERIAL_8250_CONSOLE RTC_CLASS IA32_EMULATION \
				EFI EFI_STUB EFI_MIXED EFI_VARS FB_EFI EFI_RUNTIME_MAP EFIVAR_FS \
				NUMA AMD_NUMA NODES_SPAN_OTHER_NODES NEED_MULTIPLE_NODES USE_PERCPU_NUMA_NODE_ID ACPI_NUMA \
				MICROCODE MICROCODE_EARLY MICROCODE_INTEL MICROCODE_AMD X86_PM_TIMER KVM_AMD_SEV
			nconfig NUMA_EMU XEN_DEBUG_FS
			mconfig KVM_INTEL KVM_AMD FB_HYPERV VBOXGUEST HYPERV HYPERV_UTILS \
				HYPERV_MOUSE HYPERV_STORAGE HYPERV_NET HYPERV_BALLOON
			varconfig XEN_BALLOON_MEMORY_HOTPLUG_LIMIT 512
			varconfig NODES_SHIFT 6
			;;
		i386)
			yconfig M586 PCI E1000 SERIAL_8250 SERIAL_8250_CONSOLE RTC_CLASS \
				EFI EFI_STUB EFI_MIXED EFI_VARS FB_EFI EFI_RUNTIME_MAP EFIVAR_FS \
				MICROCODE MICROCODE_EARLY MICROCODE_INTEL MICROCODE_AMD X86_PM_TIMER KVM_AMD_SEV
			mconfig KVM_INTEL KVM_AMD FB_HYPERV VBOXGUEST HYPERV HYPERV_UTILS \
				HYPERV_MOUSE HYPERV_STORAGE HYPERV_NET HYPERV_BALLOON
			nconfig M686
			;;
		mips64|mips64el|mips|mipsel)
			yconfig SERIAL_8250 SERIAL_8250_CONSOLE PCI NET_VENDOR_AMD PCNET32 POWER_RESET POWER_RESET_SYSCON
			;;
		riscv64|riscv32)
			yconfig RISCV_ISA_C RISCV_ISA_A FPU SIFIVE_PLIC
			;;
	esac

	case $BARCH in
		mips64|mips64el)
			nconfig CPU_MIPS32_R2
			nconfig 32BIT
			for archconf in CPU_MIPS64_R2 MIPS_O32_FP64_SUPPORT 64BIT MIPS32_O32 MIPS32_N32; do
				yconfig $archconf
			done
			;;
	esac

	case $BARCH in
		mip64|mips)
			sed -i -e 's:CONFIG_CPU_LITTLE_ENDIAN:CONFIG_CPU_BIG_ENDIAN:' .config
			;;
		mips64el|mipsel)
			sed -i -e 's:CONFIG_CPU_BIG_ENDIAN:CONFIG_CPU_LITTLE_ENDIAN:' .config
			;;
	esac

	# laptop drivers
	case $BARCH in
		amd64|i386)
			yconfig X86_PLATFORM_DEVICES INTEL_TURBO_MAX_3 INTEL_PMC_CORE THINKPAD_ACPI_ALSA_SUPPORT THINKPAD_ACPI_VIDEO THINKPAD_ACPI_HOTKEY_POLL \
				SONYPI_COMPAT DELL_SMBIOS_WMI DELL_SMBIOS_SMM
			mconfig ACER_WMI ACER_WIRELESS ACERHDF ALIENWARE_WMI ASUS_LAPTOP DCDBAS DELL_SMBIOS DELL_LAPTOP DELL_WMI DELL_WMI_DESCRIPTOR DELL_WMI_AIO \
				DELL_WMI_LED DELL_SMO8800 DELL_RBTN DELL_RBU FUJITSU_LAPTOP FUJITSU_TABLET AMILO_RFKILL GPD_POCKET_FAN HP_ACCEL HP_WIRELESS HP_WMI LG_LAPTOP \
				MSI_LAPTOP PANASONIC_LAPTOP COMPAL_LAPTOP SONY_LAPTOP IDEAPAD_LAPTOP THINKPAD_ACPI SENSORS_HDAPS INTEL_MENLOW EEEPC_LAPTOP ASUS_WMI ASUS_NB_WMI \
				EEEPC_WMI ASUS_WIRELESS ACPI_WMI WMI_BMOF INTEL_WMI_THUNDERBOLT XIAOMI_WMI MSI_WMI PEAQ_WMI TOPSTAR_LAPTOP ACPI_TOSHIBA TOSHIBA_BT_RFKILL TOSHIBA_HAPS \
				TOSHIBA_WMI ACPI_CMPC INTEL_CHT_INT33FE INTEL_INT0002_VGPIO INTEL_HID_EVENT INTEL_VBTN INTEL_IPS IBM_RTL SAMSUNG_LAPTOP MXM_WMI INTEL_OAKTRAIL SAMSUNG_Q10 \
				APPLE_GMUX INTEL_RST INTEL_SMARTCONNECT INTEL_PMC_IPC INTEL_BXTWC_PMIC_TMU SURFACE_PRO3_BUTTON SURFACE_3_BUTTON INTEL_PUNIT_IPC MLX_PLATFORM INTEL_CHTDC_TI_PWRBTN \
				I2C_MULTI_INSTANTIATE INTEL_ATOMISP2_PM HUAWEI_WMI PCENGINES_APU2
			nconfig THINKPAD_ACPI_DEBUGFACILITIES THINKPAD_ACPI_DEBUG THINKPAD_ACPI_UNSAFE_LEDS INTEL_TELEMETRY
			;;
	esac

	nconfig EMBEDDED KERNEL_GZIP KERNEL_BZIP2 KERNEL_LZMA KERNEL_LZO KERNEL_LZ4 KERNEL_XZ \
		HZ_100 HZ_250 HZ_1000 CC_OPTIMIZE_FOR_PERFORMANCE PREEMPT_NONE PREEMPT_VOLUNTAR SCHED_DEBUG \
		COMPAT_VDSO FW_LOADER_USER_HELPER SYSFS_DEPRECATED L2TP_DEBUGFS CFG80211_DEBUGFS \
		CFG80211_INTERNAL_REGDB CFG80211_CRDA_SUPPORT DEFAULT_SECURITY_TOMOYO DEFAULT_SECURITY_SMACK \
		DEFAULT_SECURITY_SELINUX DEFAULT_SECURITY_DAC PNP_DEBUG PARPORT_PC_FIFO PARPORT_PC_SUPERIO \
		SLIP_MODE_SLIP6 IPV6_SUBTREES RDS_DEBUG IP_VS_DEBUG DM_MULTIPATH_RDAC DM_MULTIPATH_EMC DM_MULTIPATH_HP \
		MODULE_COMPRESS_GZ KEYBOARD_XTKBD KEYBOARD_NEWTON KEYBOARD_LKKBD KEYBOARD_ADC SLIP_MODE_SLIP6 BCACHE_DEBUG BCACHE_CLOSURES_DEBUG \
		PM_DEBUG INIT_STACK_NONE LOCK_DOWN_KERNEL_FORCE_INTEGRITY LOCK_DOWN_KERNEL_FORCE_CONFIDENTIALITY SECURITY_APPARMOR_DEBUG \
		RT_GROUP_SCHED SECURITY_SELINUX LOCK_DOWN_KERNEL_FORCE_NONE LOCK_DOWN_KERNEL_FORCE_INTEGRITY

	# core
	yconfig SMP EARLY_PRINTK BINFMT_ELF BINFMT_SCRIPT NO_HZ HIGH_RES_TIMERS HZ_300 PREEMPT CC_OPTIMIZE_FOR_SIZE \
		BLK_DEV FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER KERNEL_ZSTD MODULE_COMPRESS MODULE_COMPRESS_XZ \
		MODULES MODULE_FORCE_LOAD MODULE_UNLOAD MODULE_FORCE_UNLOAD MODULE_SRCVERSION_ALL \
		HAVE_KERNEL_GZIP HAVE_KERNEL_BZIP2 HAVE_KERNEL_LZMA HAVE_KERNEL_XZ HAVE_KERNEL_LZO HAVE_KERNEL_LZ4 HAVE_KERNEL_ZSTD \
		RD_GZIP RD_BZIP2 RD_LZMA RD_XZ RD_LZO RD_LZ4 RD_ZSTD IKCONFIG IKCONFIG_PROC IKPROC GPIO_SYSFS IKPRO DEVTMPFS TMPFS UNIX SHMEM \
		CGROUPS NAMESPACES IPC_NS NET_NS SYSVIP BINFMT_SCRIPT DEVTMPFS DEVTMPFS_MOUNT EXPERT \
		DMIID EPOLL FHANDLE FS_POSIX_ACL EXPORTFS FILE_LOCKING MANDATORY_FILE_LOCKING \
		FS_ENCRYPTION FSNOTIFY DNOTIFY INOTIFY_USER FANOTIFY GENERIC_ACL IPV6 NET NET_NS PROC_FS \
		PROC_KCORE PROC_SYSCTL PROC_PAGE_MONITOR PROC_DEVICETREE TIMER_STATS SECCOMP SECCOMP_FILTER \
		SIGNALFD SYSFS TIMERFD TMPFS_POSIX_ACL TMPFS_XATTR ANON_INODES BLOCK EVENTFD FSNOTIFY \
		INET NLATTR CGROUP_SCHED FAIR_GROUP_SCHED SCHEDSTATS PID_NS NET_NS SECCOMP_FILTER \
		USER_NS ADVISE_SYSCALLS I2C_CHARDEV PARTITION_ADVANCED EFI_PARTITION OSF_PARTITION \
		AMIGA_PARTITION SGI_PARTITION SUN_PARTITION KARMA_PARTITION MAC_PARTITION MAGIC_SYSRQ \
		AUTOFS4_FS CGROUPS CHECKPOINT_RESTORE SYSCTL \
		POSIX_MQUEUE POSIX_MQUEUE_SYSCTL KERNFS SYSFS CONFIGFS_FS MISC_FILESYSTEMS \
		NLS NLS_CODEPAGE_437 NLS_ASCII NLS_ISO8859_1 NLS_UTF8 INPUT INPUT_LEDS \
		MOUSE_INPUT_KEYBOARD KEYBOARD_ATKBD MOUSE_KEYBOARD_SUNKBD MOUSE_PS2_ALPS MOUSE_PS2_BYD MOUSE_PS2_LOGIPS2PP MOUSE_PS2_SYNAPTICS \
		MOUSE_PS2_SYNAPTICS_SMBUS MOUSE_PS2_CYPRESS MOUSE_PS2_LIFEBOOK MOUSE_PS2_TRACKPOINT MOUSE_PS2_ELANTECH INPUT_MOUSEDEV INPUT_MOUSEDEV_PSAUX \
		MOUSE_PS2_ELANTECH_SMBUS MOUSE_PS2_SENTELIC MOUSE_PS2_TOUCHKIT MOUSE_PS2_FOCALTECH MOUSE_PS2_VMMOUSE MOUSE_PS2_SMBUS MOUSE_ELAN_I2C_I2C \
		INPUT_MOUSE MOUSE_PS2 MOUSE_ELAN_I2C_SMBUS INPUT_FF_MEMLESS INPUT_POLLDEV INPUT_EVDEV MOUSEDEV MOUSE_PS2 MOUSE_PS2_ALPS MOUSE_PS2_BYD \
		MOUSE_PS2_LOGIPS2PP MOUSE_PS2_SYNAPTICS MOUSE_SYNAPTICS_I2C MOUSE_SYNAPTICS_USB MOUSE_PS2_CYPRESS MOUSE_PS2_LIFEBOOK MOUSE_PS2_TRACKPOINT INPUT_MISC INPUT_UINPUT \
		SERIO SERIO_I8042 SERIO_SERPORT SERIO_LIBPS2 HID HIDRAW UHID HID_GENERIC USB_HID USB_HIDDE INPUT_TOUCHSCREEN TOUCHSCREEN_PROPERTIES \
		NEW_LEDS LEDS_CLASS VIRTUALIZATION IRQ_BYPASS_MANAGER KVM_GUEST \
		NET INET NETFILTER NETFILTER_ADVANCED AUDIT AUDITSYSCALL \
		SYSVIPC IP_VS_PROTO_TCP IP_VS_PROTO_UDP XFRM XFRM_USER XFRM_ALGO \
		NET_L3_MASTER_DEV INET_XFRM_MODE_TRANSPOR NET_L3_MASTER_DEV \
		NAMESPACES NET_NS PID_NS IPC_NS UTS_NS CGROUPS CGROUP_CPUACCT \
		CGROUP_DEVICE FREEZER CGROUP_FREEZER CGROUP_SCHED CPUSETS MEMCG \
		KEYS NF_NAT_NEEDED POSIX_MQUEUE USER_NS SECCOMP CGROUP_PIDS MEMCG_SWAP \
		MEMCG_SWAP_ENABLED LEGACY_VSYSCALL_EMULAT BLK_CGROUP BLK_DEV_THROTTLING \
		CGROUP_PERF CGROUP_HUGETLB CGROUP_NET_PRIO CFS_BANDWIDTH FAIR_GROUP_SCHED \
		RT_GROUP_SCHED IP_VS_NFCT NETPOLL NET_POLL_CONTROLLER NETDEVICES NET_CORE \
		NETPOLL NET_POLL_CONTROLLER PACKET UNIX INET IP_MULTICAST INET_LRO TCP_CONG_CUBIC \
		IP_MROUTE PV6_NDISC_NODETYPE NET_PTP_CLASSIFY HAVE_NET_DSA DNS_RESOLVER \
		RPS RFS_ACCEL XPS NET_RX_BUSY_POLL BQL NET_FLOW_LIMIT DST_CACHE \
		MAY_USE_DEVLINK OF_NET RFKILL RFKILL_PM RFKILL_LEDS HAVE_NET_DSA \
		WIRELESS WEXT_CORE CFG80211_DEFAULT_PS CFG80211_INTERNAL_REGDB \
		MAC80211_HAS_RC MAC80211_RC_MINSTREL MAC80211_RC_MINSTREL_HT \
		MAC80211_RC_MINSTREL_VHT MAC80211_RC_DEFAULT_MINSTREL MAC80211_LEDS \
		ATM_DRIVERS USB_NET_DRIVERS IEEE802154_DRIVERS V4L_PLATFORM_DRIVERS V4L_MEM2MEM_DRIVERS V4L_TEST_DRIVERS DVB_PLATFORM_DRIVERS \
		CEC_PLATFORM_DRIVERS SDR_PLATFORM_DRIVERS SND_DRIVERS VIRT_DRIVERS COMEDI_MISC_DRIVERS COMEDI_PCI_DRIVERS COMEDI_PCMCIA_DRIVERS \
		COMEDI_USB_DRIVERS MOUSE_APPLETOUCH DRM DRM_MIPI_DSI DRM_DP_AUX_CHARDEV DRM_KMS_HELPER DRM_KMS_FB_HELPER DRM_TTM DRM_GEM_CMA_HELPER DRM_KMS_CMA_HELPER DRM_VM \
		NET_VENDOR_3COM NET_VENDOR_ADAPTEC NET_VENDOR_AGERE NET_VENDOR_ALACRITECH NET_VENDOR_ALTEON NET_VENDOR_AMAZON NET_VENDOR_AMD \
		NET_VENDOR_AQUANTIA NET_VENDOR_ARC NET_VENDOR_ATHEROS NET_VENDOR_AURORA NET_VENDOR_BROADCOM _NET_VENDOR_BROCADE NET_VENDOR_CAVIUM \
		NET_VENDOR_CHELSIO NET_VENDOR_CISCO NET_VENDOR_CORTINA NET_VENDOR_DEC NET_VENDOR_DLINK NET_VENDOR_EMULEX NET_VENDOR_EZCHIP NET_VENDOR_EXAR \
		NET_VENDOR_FUJITSU NET_VENDOR_HP NET_VENDOR_HUAWEI NET_VENDOR_INTEL NET_VENDOR_EXAR NET_VENDOR_MARVELL NET_VENDOR_MELLANOX NET_VENDOR_MICREL \
		NET_VENDOR_MICROCHIP NET_VENDOR_MYRI NET_VENDOR_NATSEMI NET_VENDOR_NETRONOME NET_VENDOR_NI NET_VENDOR_8390 NET_VENDOR_NVIDIA NET_VENDOR_OKI \
		NET_VENDOR_QLOGIC NET_VENDOR_QUALCOMM NET_VENDOR_REALTEK NET_VENDOR_RENESAS NET_VENDOR_RDC NET_VENDOR_ROCKER NET_VENDOR_SAMSUNG NET_VENDOR_SEEQ \
		NET_VENDOR_SILAN NET_VENDOR_SIS NET_VENDOR_SOLARFLARE NET_VENDOR_SMSC NET_VENDOR_SOCIONEXT NET_VENDOR_STMICRO VENDOR_SUN NET_VENDOR_TEHUTI \
		NET_VENDOR_TI NET_VENDOR_VIA NET_VENDOR_WIZNET NET_VENDOR_XIRCOM NET_VENDOR_SYNOPSYS NET_VENDOR_IBM NET_VENDOR_MICROSEMI NET_VENDOR_RDC NET_VENDOR_PENSANDO \
		NET_VENDOR_I825XX NET_VENDOR_3COM NET_VENDOR_NATSEMI NET_VENDOR_8390 \
		WLAN_VENDOR_ADMTEK WLAN_VENDOR_ATH WLAN_VENDOR_ATMEL WLAN_VENDOR_BROADCOM WLAN_VENDOR_CISCO WLAN_VENDOR_INTEL WLAN_VENDOR_INTERSIL \
		WLAN_VENDOR_MARVELL WLAN_VENDOR_MEDIATEK WLAN_VENDOR_RALINK WLAN_VENDOR_REALTEK WLAN_VENDOR_RSI WLAN_VENDOR_ST WLAN_VENDOR_TI WLAN_VENDOR_ZYDAS WLAN_VENDOR_QUANTENNA \
		PHYLIB SWPHY SWAP MEMCG_SWAP MEMCG_SWAP_ENABLED ZSMALLOC ZRAM \
		TTY SECURITY SECURITY_PATH SECURITY_NETWORK SECURITYFS KALLSYMS SECURITY_APPARMOR SECURITY_APPARMOR_HASH SECURITY_APPARMOR_HASH_DEFAULT DEFAULT_SECURITY_APPARMOR \
		OPTIMIZE_INLINING KEXEC KEXEC_FILE MULTIUSER FILE_LOCKING MANDATORY_FILE_LOCKING NETWORK_FILESYSTEMS \
		SUNRPC SUNRPC_GSS SUNRPC_BACKCHANNEL SUNRPC_SWAP PNP ISAPNP CPI_PCI_SLOT OTPLUG_PCI_ACPI HOTPLUG_PCI_ACPI_IBM \
		PARPORT PARPORT_PC PARPORT_SERIAL PARPORT_PC_PCMCIA PARPORT_1284 FB FRAMEBUFFER_CONSOLE \
		FRAMEBUFFER_CONSOLE_DETECT_PRIMARY FRAMEBUFFER_CONSOLE_ROTATION FONTS VT CONSOLE_TRANSLATIONS VT_CONSOLE T_HW_CONSOLE_BINDING \
		FDDI SLIP_COMPRESSED SLIP_SMART IPPP_FILTER KVM FB FIRMWARE_EDID FB_CMDLINE FB_BOOT_VESA_SUPPORT FB_CFB_FILLRECT FB_CFB_COPYAREA \
		FB_CFB_IMAGEBLIT FB_VESA FB_SIMPLE IP_ADVANCED_ROUTER IP_MULTIPLE_TABLES IP_ROUTE_TOS IP_ROUTE_LARGE_TABLE \
		OPENVSWITCH_GRE OPENVSWITCH_VXLAN OPENVSWITCH_GENEVE RPS RFS_ACCEL NETLINK_MMAP BATMAN_ADV_BLA \
		ACPI ACPI_PROCESSOR ACPI_LEGACY_TABLES_LOOKUP ACPI_PROCFS_POWER ACPI_NUMA HAVE_ACPI_APEI HAVE_ACPI_APEI_NMI \
		BPF BPF_SYSCALL BPF_JIT EXPERT HIBERNATION SUSPEND HWMON FONT_8x8 FONT_8x16 SUN8x16 FB_BOOT_VESA_SUPPORT \
		HDMI THUNDERBOLT RESET_ATTACK_MITIGATION ANDROID_PARANOID_NETWORK SECURITY_DMESG_RESTRICT BCACHE ASHMEM LOGO \
		QUOTA RANDOMIZE_BASE RTC_CLASS RT_GROUP_SCHED PSTORE PSTORE_CONSOLE PSTORE_RAM SCHEDSTATS SMARTJOYPLUS_FF \
		POWER_SUPPLY PM_RUNTIME PANTHERLORD_FF PERF_EVENTS KSM KALLSYMS_ALL KEY_DH_OPERATIONS PREEMPTION \
		MEMORY_HOTPLUG ZPOOL ZBUD ZSMALLOC TRANSPARENT_HUGEPAGE FW_LOADER_COMPRESS FW_LOADER_USER_HELPER INIT_ON_ALLOC_DEFAULT_ON GCC_PLUGIN_STRUCTLEAK_BYREF \
		FS_VERITY CPU_IDLE_GOV_HALTPOLL SIGNED_PE_FILE_VERIFICATION UNUSED_SYMBOLS SECURITY_LOCKDOWN_LSM SECURITY_LOCKDOWN_LSM_EARLY LOCK_DOWN_KERNEL_FORCE_CONFIDENTIALITY \
		RANDOMIZE_BASE RANDOMIZE_MEMORY ARCH_HAS_ELF_RANDOMIZE RELOCATABLE SCHED_MC HIGHMEM SCHED_DEBUG LIVEPATCH KALLSYMS

	mconfig I2C_HID INPUT_GPIO_ROTARY_ENCODER INPUT_JOYDEV INPUT_POLLDEV INPUT_MATRIXKMAP VHOST_NET VHOST_VSOCK \
		MACVTAP VXLAN INET_ESP IPVLAN DUMMY IP_VS_RR IP_VS NET_CLS_CGROU VETH MACVLAN MACSEC NETCONSOLE VIRTIO_NET \
		TUN PPP PPP_BSDCOMP PPP_DEFLATE PPP_MPPE PPPOE PPPOLAC PPPOPNS PPP_ASYNC SLHC L2TP L2TP_V3 L2TP_IP L2TP_ETH \
		IPV6_SIT STP NET_IP_TUNNEL IP_MROUTE INET_TUNNEL VLAN_8021Q LLC MAC80211 CFG80211 DRM_SCHED SLIP \
		IP_VS IP_VS_PROTO_TCP IP_VS_PROTO_UDP IP_VS_PROTO_ESP IP_VS_PROTO_AH \
		IP_VS_RR IP_VS_WRR IP_VS_LC IP_VS_WLC IP_VS_LBLC IP_VS_LBLCR IP_VS_DH IP_VS_SH IP_VS_SED \
		IP_VS_NQ IP_VS_FTP IPV6_PRIVACY IPV6_ROUTER_PREF IPV6_ROUTE_INFO IPV6_OPTIMISTIC_DAD \
		INET6_AH INET6_ESP INET6_IPCOMP IPV6_MIP6 IPV6_SIT IPV6_TUNNEL IPV6_MULTIPLE_TABLES \
		IPV6_MROUTE IPV6_PIMSM_V2 RDS RDS_RDMA RDS_TCP FB_VGA16 VSOCKETS LLC DNS_RESOLVER \
		BATMAN_ADV OPENVSWITCH VSOCKETS VMWARE_VMCI_VSOCKETS NETLINK_DIAG NET_MPLS_GSO HSR XPS \
		ACPI_FAN ACPI_IPMI ACPI_THERMAL ACPI_EXTLOG NET_ACT_BPF MOUSE_VSXXXAA MOUSE_GPIO MOUSE_SYNAPTICS_I2C MOUSE_SYNAPTICS_USB \
		MOUSE_SERIAL MOUSE_APPLETOUCH MOUSE_BCM5974 MOUSE_CYAPA MOUSE_ELAN_I2C KEYBOARD_TM2_TOUCHKEY KEYBOARD_CROS_EC KEYBOARD_MTK_PMIC \
		KEYBOARD_ADP5588 KEYBOARD_ADP5589 KEYBOARD_QT1070 KEYBOARD_QT2160 KEYBOARD_DLINK_DIR685 \
		KEYBOARD_GPIO KEYBOARD_GPIO_POLLED KEYBOARD_TCA6416 KEYBOARD_TCA8418 KEYBOARD_MATRIX KEYBOARD_LM8323 \
		KEYBOARD_LM8333 KEYBOARD_MAX7359 KEYBOARD_MCS KEYBOARD_MPR121 KEYBOARD_OPENCORES KEYBOARD_SAMSUNG KEYBOARD_STOWAWAY \
		VHOST_NET VHOST_SCSI VHOST_VSOCK VHOST MOUSE_PS2

	# filesystems
	yconfig SQUASHFS SQUASHFS_DECOMP_MULTI SQUASHFS_FILE_DIRECT \
		SQUASHFS_LZ4 SQUASHFS_LZO SQUASHFS_XATTR SQUASHFS_XZ SQUASHFS_ZLIB SQUASHFS_ZSTD \
		OVERLAY_FS OVERLAY_FS_REDIRECT_DIR _OVERLAY_FS_INDEX OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW \
		OVERLAY_FS_NFS_EXPORT OVERLAY_FS_XINO_AUTO VERLAY_FS_METACOPY \
		EXT4_FS EXT4_FS_POSIX_ACL EXT4_FS_SECURITY EXT4_ENCRYPTION EXT4_FS_ENCRYPTION EXT4_USE_FOR_EXT2 \
		FAT_FS VFAT_FS FAT_DEFAULT_UTF8 NTFS_FS NTFS_RW JBD2 FS_MBCACHE UBIFS_FS UBIFS_FS_LZO UBIFS_FS_ZLIB \
		BTRFS_FS BTRFS_FS_POSIX_ACL BTRFS_FS_CHECK_INTEGRITY REISERFS_FS REISERFS_FS_XATTR JFS_FS JFS_SECURITY \
		XFS_FS XFS_QUOTA CRYPTO_LZ4 CRYPTO_LZ4HC F2FS_FS F2FS_FS_XATTR F2FS_FS_POSIX_ACL F2FS_FS_SECURITY F2FS_STAT_FS F2FS_CHECK_FS  \
		ISO9660_FS JOLIET ZISOFS UDF_FS UDF_NLS MISC_FILESYSTEMS HFS_FS HFSPLUS_FS 9P_FS 9P_FS_POSIX_ACL 9P_FS_SECURITY 9P_FSCACHE \
		NFS_V2 NFS_V3 NFS_V3_ACL NFS_V4 NFS_SWAP NFS_V4_1 NFS_V4_2 PNFS_FILE_LAYOUT NFS_V4_1_MIGRATION ROOT_NFS \
		NFS_USE_KERNEL_DNS GRACE_PERIOD LOCKD LOCKD_V4 NFS_COMMON CIFS_STATS CIFS_STATS2 CIFS_SMB2 CIFS_SMB311 CIFS_FSCACHE \
		CIFS_UPCALL CIFS_XATTR CIFS_POSIX CIFS_ACL CIFS_ROOT CEPH_FSCACHE CEPH_FS_POSIX_ACL UBIFS_FS UBIFS_FS_ADVANCED_COMPR UBIFS_FS_LZO \
		UBIFS_FS_ZLIB UBIFS_ATIME_SUPPORT UBIFS_FS_XATTR UBIFS_FS_ENCRYPTION UBIFS_FS_SECURITY OCFS2_FS OCFS2_FS_O2CB OCFS2_DEBUG_MASKLOG \
		NLS_ISO8859_1 NLS_CODEPAGE_437 FS_MBCACHE EXFAT_FS EXFAT_DONT_MOUNT_VFAT EXFAT_DISCARD FUSE_FS
	nconfig SQUASHFS_FILE_CACHE SQUASHFS_DECOMP_SINGLE SQUASHFS_DECOMP_MULTI_PERCPU SQUASHFS_4K_DEVBLK_SIZE SQUASHFS_EMBEDDED \
		NFSD NFS_USE_LEGACY_DNS CIFS_WEAK_PW_HASH CIFS_DEBUG CIFS_DEBUG2 CIFS_DFS_UPCALL OCFS2_DEBUG_FS OCFS2_FS_STATS \
		EXFAT_DELAYED_SYNC EXFAT_KERNEL_DEBUG EXFAT_DEBUG_MSG
	mconfig FSCACHE DMI_SYSFS NFS_FS PNFS_FLEXFILE_LAYOUT RPCSEC_GSS_KRB5 CIFS CEPH_FS OCFS2_FS_USERSPACE_CLUSTER \
		NLS_CODEPAGE_737 NLS_CODEPAGE_775 NLS_CODEPAGE_850 NLS_CODEPAGE_852 NLS_CODEPAGE_855 NLS_CODEPAGE_857 \
		NLS_CODEPAGE_860 NLS_CODEPAGE_861 NLS_CODEPAGE_862 NLS_CODEPAGE_863 NLS_CODEPAGE_864 NLS_CODEPAGE_865 \
		NLS_CODEPAGE_866 NLS_CODEPAGE_869 NLS_CODEPAGE_936 NLS_CODEPAGE_950 NLS_CODEPAGE_932 NLS_CODEPAGE_949 \
		NLS_CODEPAGE_874 NLS_ISO8859_8 NLS_CODEPAGE_1250 NLS_CODEPAGE_1251 NLS_ASCII NLS_ISO8859_2 NLS_ISO8859_3 \
		NLS_ISO8859_4 NLS_ISO8859_5 NLS_ISO8859_6 NLS_ISO8859_7 NLS_ISO8859_9 NLS_ISO8859_13 NLS_ISO8859_14 \
		NLS_ISO8859_15 NLS_KOI8_R NLS_KOI8_U NLS_MAC_ROMAN NLS_MAC_CELTIC NLS_MAC_CENTEURO NLS_MAC_CROATIAN \
		NLS_MAC_CYRILLIC NLS_MAC_GAELIC NLS_MAC_GREEK NLS_MAC_ICELAND NLS_MAC_INUIT NLS_MAC_ROMANIAN NLS_MAC_TURKISH

	# crypto
	yconfig CRYPTO CRYPTO_OFB ARM64_CRYPTO ARM_CRYPTO ASYMMETRIC_KEY_TYPE ASYMMETRIC_PUBLIC_KEY_SUBTYPE X509_CERTIFICATE_PARSER \
		CRYPTO_DEV_SP_PSP PKCS7_MESSAGE_PARSER CHELSIO_IPSEC_INLINE CHELSIO_IPSEC_INLINE CRYPTO_DEV_SP_CCP CRYPTO_DEV_CCP CRYPTO_HASH_INFO \
		CRYPTO_HW CRYPTO_DRBG_MENU CRYPTO_DRBG_HMAC CRYPTO_DRBG_HASH CRYPTO_DRBG_CTR CRYPTO_DRBG CRYPTO_JITTERENTROPY CRYPTO_LZ4HC CRYPTO_DEFLATE \
		CRYPTO_LZO CRYPTO_ARC4 CRYPTO_AES_X86_64 CRYPTO_AES CRYPTO_SHA256 CRYPTO_SHA1 CRYPTO_MD5 CRYPTO_GHASH CRYPTO_CRCT10DIF CRYPTO_CRC32C CRYPTO_CMAC \
		CRYPTO_HMAC CRYPTO_XTS CRYPTO_CTR CRYPTO_CTS CRYPTO_ECB CRYPTO_CBC CRYPTO_SEQIV CRYPTO_CCM CRYPTO_GCM CRYPTO_WORKQUEUE CRYPTO_MANAGER_DISABLE_TESTS \
		CRYPTO_GF128MUL CRYPTO_NULL CRYPTO_NULL2CRYPTO_ALGAPI CRYPTO_ALGAPI2 CRYPTO_AEAD CRYPTO_AEAD2 CRYPTO_BLKCIPHER CRYPTO_BLKCIPHER2 CRYPTO_HASH CRYPTO_HASH2 \
		CRYPTO_RNG CRYPTO_RNG2 CRYPTO_RNG_DEFAULT CRYPTO_AKCIPHER2 CRYPTO_AKCIPHER CRYPTO_KPP2 CRYPTO_KPP CRYPTO_ACOMP2 CRYPTO_RSA CRYPTO_DH CRYPTO_ECDH CRYPTO_MANAGER CRYPTO_MANAGER2
	mconfig CRYPTO_USER CRYPTO_PCRYPT CRYPTO_CRYPTD CRYPTO_MCRYPTD CRYPTO_AUTHENC CRYPTO_TEST CRYPTO_SIMD CRYPTO_GLUE_HELPER_X86 CRYPTO_ENGINE CRYPTO_CHACHA20POLY1305 \
		CRYPTO_AEGIS128 CRYPTO_AEGIS128L CRYPTO_AEGIS256 CRYPTO_AEGIS128_AESNI_SSE2 CRYPTO_AEGIS128L_AESNI_SSE2 CRYPTO_AEGIS256_AESNI_SSE2 CRYPTO_MORUS640 CRYPTO_MORUS640_GLUE \
		CRYPTO_MORUS640_SSE2 CRYPTO_MORUS1280 CRYPTO_MORUS1280_GLUE CRYPTO_MORUS1280_SSE2 CRYPTO_MORUS1280_AVX2 CRYPTO_ECHAINIV CRYPTO_CFB CRYPTO_LRW CRYPTO_PCBC CRYPTO_KEYWRAP \
		CRYPTO_XCBC CRYPTO_VMAC CRYPTO_CRC32C_INTEL CRYPTO_CRC32 CRYPTO_CRC32_PCLMUL CRYPTO_CRCT10DIF_PCLMUL CRYPTO_POLY1305 CRYPTO_POLY1305_X86_64 CRYPTO_MD4 CRYPTO_MICHAEL_MIC \
		CRYPTO_RMD128 CRYPTO_RMD160 CRYPTO_RMD256 CRYPTO_RMD320 CRYPTO_SHA1_SSSE3 CRYPTO_SHA256_SSSE3 CRYPTO_SHA512_SSSE3 CRYPTO_SHA1_MB CRYPTO_SHA256_MB CRYPTO_SHA512_MB CRYPTO_SHA512 \
		CRYPTO_SHA3 CRYPTO_SM3 CRYPTO_TGR192 CRYPTO_WP512 CRYPTO_GHASH_CLMUL_NI_INTEL CRYPTO_AES_TI CRYPTO_AES_NI_INTEL CRYPTO_ANUBIS CRYPTO_BLOWFISH CRYPTO_BLOWFISH_COMMON CRYPTO_BLOWFISH_X86_64 \
		CRYPTO_CAMELLIA CRYPTO_CAMELLIA_X86_64 CRYPTO_CAMELLIA_AESNI_AVX_X86_64 CRYPTO_CAMELLIA_AESNI_AVX2_X86_64 CRYPTO_CAST_COMMON CRYPTO_CAST5 CRYPTO_CAST5_AVX_X86_64 CRYPTO_CAST6 \
		CRYPTO_CAST6_AVX_X86_64 CRYPTO_DES CRYPTO_DES3_EDE_X86_64 CRYPTO_FCRYPT CRYPTO_KHAZAD CRYPTO_SALSA20 CRYPTO_CHACHA20 CRYPTO_CHACHA20_X86_64 CRYPTO_SEED CRYPTO_SERPENT \
		CRYPTO_SERPENT_SSE2_X86_64 CRYPTO_SERPENT_AVX_X86_64 CRYPTO_SERPENT_AVX2_X86_64 CRYPTO_SM4 CRYPTO_TEA CRYPTO_TWOFISH CRYPTO_TWOFISH_COMMON CRYPTO_TWOFISH_X86_64 \
		CRYPTO_TWOFISH_X86_64_3WAY CRYPTO_TWOFISH_AVX_X86_64 CRYPTO_842 CRYPTO_LZ4 CRYPTO_ZSTD CRYPTO_ANSI_CPRNG CRYPTO_USER_API CRYPTO_USER_API_HASH CRYPTO_USER_API_SKCIPHER \
		CRYPTO_USER_API_RNG CRYPTO_USER_API_AEAD CRYPTO_DEV_PADLOCK CRYPTO_DEV_PADLOCK_AES CRYPTO_DEV_PADLOCK_SHA CRYPTO_DEV_CCP_DD CRYPTO_DEV_CCP_CRYPTO CRYPTO_DEV_QAT \
		CRYPTO_DEV_QAT_DH895xCC CRYPTO_DEV_QAT_C3XXX CRYPTO_DEV_QAT_C62X CRYPTO_DEV_QAT_DH895xCCVF CRYPTO_DEV_QAT_C3XXXVF CRYPTO_DEV_QAT_C62XVF CRYPTO_DEV_NITROX CRYPTO_DEV_NITROX_CNN55XX \
		CRYPTO_DEV_CHELSIO CRYPTO_DEV_CHELSIO_TLS CRYPTO_DEV_VIRTIO CRYPTO_DEV_CCREE CRYPTO_SHA256_ARM64 CRYPTO_SHA512_ARM64 CRYPTO_SHA1_ARM64_CE CRYPTO_SHA2_ARM64_CE CRYPTO_SHA512_ARM64_CE \
		CRYPTO_SHA3_ARM64 CRYPTO_SM3_ARM64_CE CRYPTO_SM4_ARM64_CE CRYPTO_GHASH_ARM64_CE CRYPTO_CRCT10DIF_ARM64_CE CRYPTO_AES_ARM64 CRYPTO_AES_ARM64_CE CRYPTO_AES_ARM64_CE_CCM \
		CRYPTO_AES_ARM64_CE_BLK CRYPTO_AES_ARM64_NEON_BLK CRYPTO_CHACHA20_NEON CRYPTO_NHPOLY1305_NEON CRYPTO_AES_ARM64_BS CRYPTO_SHA1_ARM CRYPTO_SHA256_ARM CRYPTO_SHA512_ARM \
		CRYPTO_AES_ARM CRYPTO_SHA1_ARM CRYPTO_AES_ARM CRYPTO_ESSIV CRYPTO_ADIANTUM
	nconfig PKCS7_TEST_KEY CRYPTO_AES_ARM_CE CRYPTO_GHASH_ARM_CE CRYPTO_CRCT10DIF_ARM_CE CRYPTO_CRC32_ARM_CE CRYPTO_SHA1_ARM_CE CRYPTO_SHA2_ARM_CE

	# block devices
	yconfig BLK_DEV_INITRD BLK_DEV_LOOP BLK_DEV_SD CHR_DEV_ST BLK_DEV_SR BLK_DEV_SR_VENDOR BLK_DEV_BSG BLK_DEV_BSGLIB BLK_DEV_INTEGRITY BLK_DEV_INTEGRITY BLK_DEV_ZONED \
		BLK_DEV_THROTTLING PATA_ACPI ATA_GENERIC PATA_LEGACY ATA ATA_VERBOSE_ERROR ATA_ACPI SATA_PMP SATA_AHCI SATA_AHCI_PLATFORM SATA_INIC162X SATA_ACARD_AHCI SATA_SIL24 \
		ATA_SFF PDC_ADMA SATA_QSTOR SATA_SX4 ATA_BMDMA ATA_PIIX SATA_MV SATA_NV SATA_PROMISE SATA_SIL SATA_SIS SATA_SVW SATA_ULI SATA_VIA SATA_VITESSE
	mconfig BLK_DEV_CRYPTOLOOP CHR_DEV_SG CHR_DEV_SCH CHR_DEV_OSST
	nconfig SATA_ZPODD SATA_DWC

	# scsi support
	yconfig CSI_MOD RAID_ATTRS SCSI SCSI_DMA SCSI_NETLINK SCSI_MQ_DEFAULT SCSI_PROC_FS SCSI_DH SCSI_LOWLEVEL_PCMCIA SCSI_PMCRAID SCSI_PM8001 SCSI_BFA_FC SCSI_VIRTIO SCSI_DC395x \
		SCSI_SYM53C8XX_MMIO SCSI_IPR SCSI_QLOGIC_1280 SCSI_STEX SCSI_SYM53C8XX_2 SCSI_GDTH SCSI_ISCI SCSI_IPS SCSI_INITIO SCSI_INIA100 SCSI_DMX3191D LIBFC LIBFCOE FCOE FCOE_FNIC \
		SCSI_HPTIOP SCSI_BUSLOGIC SCSI_FLASHPOINT SCSI_MYRB SCSI_MPT2SAS MEGARAID_SAS SCSI_MPT3SAS MEGARAID_NEWGEN MEGARAID_MM MEGARAID_MAILBOX SCSI_DPT_I2O SCSI_ADVANSYS SCSI_ARCMSR \
		SCSI_AIC94XX SCSI_MVSAS SCSI_AIC79XX BLK_DEV_3W_XXXX_RAID SCSI_HPSA SCSI_3W_9XXX SCSI_3W_SAS SCSI_ACARD SCSI_AACRAID SCSI_AIC7XXX ISCSI_BOOT_SYSFS SCSI_LOWLEVEL SCSI_SAS_ATTRS \
		SCSI_SAS_LIBSAS SCSI_SAS_ATA SCSI_SAS_HOST_SMP SCSI_SPI_ATTRS SCSI_FC_ATTRS
	mconfig SCSI_QLA_FC TCM_QLA2XXX SCSI_QLA_ISCSI QEDI QEDF SCSI_LPFC SCSI_AM53C974 SCSI_WD719X SCSI_DEBUG SCSI_CHELSIO_FCOE PCMCIA_AHA152X PCMCIA_QLOGIC PCMCIA_SYM53C500 \
		SCSI_DH_RDAC SCSI_DH_HP_SW SCSI_DH_EMC SCSI_DH_ALUA SCSI_SMARTPQI SCSI_UFSHCD SCSI_UFSHCD_PCI SCSI_UFSHCD_PLATFORM SCSI_UFS_CDNS_PLATFORM SCSI_MYRS VMWARE_PVSCSI \
		HYPERV_STORAGE SCSI_SNIC SCSI_FDOMAIN SCSI_FDOMAIN_PCI SCSI_PPA SCSI_IMM SCSI_MVUMI SCSI_ESAS2R MEGARAID_LEGACY SCSI_ISCSI_ATTRS SCSI_SRP_ATTRS ISCSI_TCP SCSI_CXGB3_ISCSI \
		SCSI_CXGB4_ISCSI SCSI_BNX2_ISCSI SCSI_BNX2X_FCOE BE2ISCSI
	nconfig PCMCIA_FDOMAIN SCSI_LPFC_DEBUG_FS TCM_QLA2XXX_DEBUG SCSI_IPR_TRACE SCSI_IPR_DUMP SCSI_IZIP_EPP16 SCSI_IZIP_SLOW_CTR SCSI_SNIC_DEBUG_FS SCSI_UFS_DWC_TC_PLATFORM \
		SCSI_UFS_BSG SCSI_UFS_DWC_TC_PCI SCSI_MVSAS_DEBUG SCSI_MVSAS_TASKLET AIC94XX_DEBUG AIC79XX_REG_PRETTY_PRINT AIC79XX_DEBUG_ENABLE AIC7XXX_REG_PRETTY_PRINT AIC7XXX_DEBUG_ENABLE

	# pata support
	yconfig PATA_ALI PATA_AMD PATA_ARTOP PATA_ATIIXP PATA_ATP867X PATA_CMD64X PATA_CYPRESS PATA_EFAR PATA_HPT366 PATA_HPT37X PATA_HPT3X2N PATA_HPT3X3 PATA_HPT3X3_DMA PATA_IT8213 \
		PATA_IT821X PATA_JMICRON PATA_MARVELL PATA_NETCELL PATA_NINJA32 PATA_NS87415 PATA_OLDPIIX PATA_OPTIDMA PATA_PDC2027X PATA_PDC_OLD PATA_RADISYS PATA_RDC PATA_SCH PATA_SERVERWORKS \
		PATA_SIL680 PATA_SIS PATA_TRIFLEX PATA_VIA PATA_WINBOND PATA_CMD640_PCI PATA_MPIIX PATA_NS87410 PATA_OPTI PATA_RZ1000
	mconfig PATA_TOSHIBA
	nconfig PATA_PLATFORM PATA_PCMCIA

	# nand support
	yconfig MTD_COMPLEX_MAPPINGS MTD_NAND_DISKONCHIP_PROBE_ADVANCED MTD_NAND_DISKONCHIP_PROBE_HIGH MTD_NAND_DISKONCHIP_BBTWRITE
	mconfig MTD_NAND_ECC_SW_HAMMING MTD_RAW_NAND MTD_NAND_DENALI MTD_NAND_DENALI_PCI MTD_NAND_CAFE MTD_NAND_GPIO MTD_NAND_PLATFORM MTD_SM_COMMON \
		MTD_NAND_NANDSIM MTD_NAND_RICOH MTD_NAND_DISKONCHIP MTD_NAND_CORE
	nconfig MTD_NAND_MXIC MTD_NAND_ECC_SW_BCH MTD_NAND_ECC_SW_HAMMING_SMC

	# mmc/sdcard support
	yconfig MMC MMC_BLOCK MMC_ARMMMCI MMC_STM32_SDMMC MMC_SDHCI MMC_SDHCI_IO_ACCESSORS MMC_SDHCI_PCI MMC_RICOH_MMC MMC_SDHCI_PLTFM MMC_SDHCI_OF_ARASAN \
		MMC_SDHCI_OF_AT91 MMC_SDHCI_OF_ESDHC MMC_SDHCI_CADENCE MMC_SDHCI_ESDHC_IMX MMC_SDHCI_DOVE MMC_SDHCI_TEGRA MMC_SDHCI_S3C MMC_SDHCI_PXAV3 MMC_SDHCI_S3C_DMA \
		MMC_SDHCI_F_SDH30 MMC_SDHCI_IPROC MMC_MESON_MX_SDIO MMC_OMAP MMC_OMAP_HS MMC_MXC MMC_MVSDIO MMC_SPI MMC_VIA_SDMMC MMC_DW MMC_DW_PLTFM MMC_DW_EXYNOS MMC_DW_K3 \
		MMC_DW_PCI MMC_DW_ROCKCHIP MMC_VUB300 MMC_USHC MMC_USDHI6ROL0 MMC_SUNXI MMC_CQHCI MMC_BCM2835 MMC_SDHCI_OMAP
	mconfig MMC_TOSHIBA_PCI MEMSTICK MMC_WBSD MMC_ALCOR MMC_SDRICOH_CS MMC_REALTEK_PCI MMC_REALTEK_USB MMC_CB710 MMC_TIFM_SD MSPRO_BLOCK MEMSTICK_TIFM_MS MEMSTICK_JMICRON_38X MEMSTICK_R592
	nconfig MEMSTICK_DEBUG MMC_SDHCI_AM654 MMC_MTK MMC_SDHCI_XENON MMC_DW_HI3798CV200 MMC_DW_BLUEFIELD MMC_MESON_GX MMC_SDHCI_OF_DWCMSHC MMC_SDHCI_OF_ASPEED MMC_DEBUG \
		MEMSTICK_UNSAFE_RESUME MS_BLOCK

	# nvme support
	yconfig NVME_CORE BLK_DEV_NVME NVME_MULTIPATH
	mconfig NVME_FABRICS NVME_RDMA NVME_FC NVME_TCP NVME_TARGET NVME_TARGET_LOOP NVME_TARGET_RDMA NVME_TARGET_FC NVME_TARGET_FCLOOP NVME_TARGET_TCP

	# device mapper support
	yconfig MD FUSION DM_VERITY_FEC DM_INIT DM_UEVENT DM_DEBUG_BLOCK_MANAGER_LOCKING BLK_DEV_MD MD_RAID0 MD_RAID1 MD_RAID10 MD_RAID456 MD_LINEAR MD_AUTODETECT BLK_DEV_DM_BUILTIN
	mconfig BLK_DEV_DM MD_MULTIPATH MD_FAULTY MD_CLUSTER BCACHE DM_BUFIO DM_CLONE DM_DELAY DM_BIO_PRISON DM_PERSISTENT_DATA DM_UNSTRIPED DM_CRYPT DM_SNAPSHOT \
		DM_THIN_PROVISIONING DM_CACHE DM_CACHE_SMQ DM_ERA DM_MIRROR DM_LOG_USERSPACE DM_RAID DM_ZERO \
		DM_MULTIPATH DM_MULTIPATH_QL DM_MULTIPATH_ST DM_DUST DM_FLAKEY DM_VERITY DM_SWITCH DM_LOG_WRITES DM_INTEGRITY DM_ZONED TARGET_CORE TCM_IBLOCK TCM_FILEIO TCM_PSCSI \
		TCM_USER2 LOOPBACK_TARGET TCM_FC ISCSI_TARGET ISCSI_TARGET_CXGB4 SBP_TARGET FUSION_SPI FUSION_FC FUSION_SAS FUSION_CTL FUSION_LAN
	nconfig DM_VERITY_VERIFY_ROOTHASH_SIG FUSION_LOGGING DM_WRITECACHE DM_DEBUG_BLOCK_STACK_TRACING DM_DEBUG BCACHE_DEBUG BCACHE_CLOSURES_DEBUG

	# thunderbolt support
	mconfig THUNDERBOLT THUNDERBOLT_NET INTEL_WMI_THUNDERBOLT

	# firewire support
	mconfig FIREWIRE FIREWIRE_OHCI FIREWIRE_SBP2 FIREWIRE_NET FIREWIRE_NOSY

	# HID drivers
	mconfig HID_A4TECH HID_ACCUTOUCH HID_ACRUX HID_ACRUX_FF HID_APPLE HID_APPLEIR HID_ASUS HID_AUREAL HID_BELKIN HID_BETOP_FF \
		HID_CHERRY HID_CHICONY HID_CORSAIR HID_PRODIKEYS HID_CMEDIA HID_CP2112 HID_CYPRESS HID_DRAGONRISE DRAGONRISE_FF \
		HID_EMS_FF HID_ELAN HID_ELECOM HID_ELO HID_EZKEY HID_GEMBIRD HID_GFRM HID_HOLTEK HOLTEK_FF HID_GOOGLE_HAMMER \
		HID_GT683R HID_KEYTOUCH HID_KYE HID_UCLOGIC HID_WALTOP HID_GYRATION HID_ICADE HID_IT HID_JABRA HID_TWINHAN HID_KENSINGTON \
		HID_LCPOWER HID_LED HID_LENOVO HID_LOGITECH HID_LOGITECH_DJ HID_LOGITECH_HIDPP LOGITECH_FF LOGIRUMBLEPAD2_FF LOGIG940_FF \
		LOGIWHEELS_FF HID_MAGICMOUSE HID_MAYFLASH HID_MICROSOFT HID_MONTEREY HID_MULTITOUCH HID_NTI HID_NTRIG HID_ORTEK HID_PANTHERLORD \
		PANTHERLORD_FF HID_PENMOUNT HID_PETALYNX HID_PICOLCD HID_PICOLCD_BACKLIGHT HID_PICOLCD_LCD HID_PICOLCD_LEDS \
		HID_PICOLCD_CIR HID_PLANTRONICS HID_PRIMAX _HID_RETRODE HID_ROCCAT HID_SAITEK HID_SAMSUNG HID_SONY SONY_FF HID_SPEEDLINK \
		HID_STEELSERIES HID_SUNPLUS HID_RMI HID_GREENASIA GREENASIA_FF HID_HYPERV_MOUSE HID_SMARTJOYPLUS SMARTJOYPLUS_FF \
		HID_TIVO HID_TOPSEED HID_THINGM HID_THRUSTMASTER HID_UDRAW_PS3 HID_WACOM HID_WIIMOTE HID_XINMO \
		HID_ZEROPLUS ZEROPLUS_FF HID_ZYDACRON HID_SENSOR_HUB HID_ALPS INTEL_ISH_HID HID_STEAM HID_RETRODE \
		HID_REDRAGON HID_MALTRON HID_ITE HID_VIEWSONIC HID_BIGBEN_FF HID_COUGAR LOGIG940_FF LOGIRUMBLEPAD2_FF LOGITECH_FF
	yconfig THRUSTMASTER_FF HID_PICOLCD_FB

	# misc input
	yconfig INPUT_MISC INPUT_TABLET
	mconfig INPUT_AD714X INPUT_AD714X_I2C INPUT_BMA150 INPUT_E3X0_BUTTON INPUT_PCSPKR INPUT_MC13783_PWRBUTTON \
		INPUT_MMA8450 INPUT_APANEL INPUT_GP2A INPUT_GPIO_BEEPER INPUT_GPIO_DECODER INPUT_ATLAS_BTNS INPUT_ATI_REMOTE2 \
		INPUT_KEYSPAN_REMOTE INPUT_KXTJ9 INPUT_KXTJ9_POLLED_MODE INPUT_POWERMATE INPUT_YEALINK INPUT_CM109 \
		INPUT_REGULATOR_HAPTIC INPUT_RETU_PWRBUTTON INPUT_UINPUT INPUT_PCF50633_PMU INPUT_PCF8574 INPUT_GPIO_ROTARY_ENCODER \
		INPUT_ADXL34X INPUT_ADXL34X_I2C INPUT_IMS_PCU INPUT_CMA3000 INPUT_CMA3000_I2C INPUT_IDEAPAD_SLIDEBAR \
		INPUT_SOC_BUTTON_ARRAY INPUT_DRV260X_HAPTICS INPUT_DRV2665_HAPTICS INPUT_DRV2667_HAPTICS \
		TABLET_USB_ACECAD TABLET_USB_AIPTEK TABLET_USB_GTCO TABLET_USB_HANWANG TABLET_USB_KBTAB TABLET_USB_PEGASUS TABLET_SERIAL_WACOM4

	# touchscreen drivers
	yconfig INPUT_TOUCHSCREEN
	mconfig TOUCHSCREEN_88PM860X TOUCHSCREEN_ADS7846 TOUCHSCREEN_AD7877 TOUCHSCREEN_AD7879 TOUCHSCREEN_AD7879_I2C TOUCHSCREEN_AD7879_SPI TOUCHSCREEN_AR1021_I2C \
		TOUCHSCREEN_ATMEL_MXT TOUCHSCREEN_ATMEL_MXT_T37 TOUCHSCREEN_AUO_PIXCIR TOUCHSCREEN_BU21013 TOUCHSCREEN_CHIPONE_ICN8318 TOUCHSCREEN_CY8CTMG110 TOUCHSCREEN_CYTTSP_CORE \
		TOUCHSCREEN_CYTTSP_I2C TOUCHSCREEN_CYTTSP_SPI TOUCHSCREEN_CYTTSP4_CORE TOUCHSCREEN_CYTTSP4_I2C TOUCHSCREEN_CYTTSP4_SPI TOUCHSCREEN_DA9034 TOUCHSCREEN_DA9052 \
		TOUCHSCREEN_DYNAPRO TOUCHSCREEN_HAMPSHIRE TOUCHSCREEN_EETI TOUCHSCREEN_EGALAX TOUCHSCREEN_EGALAX_SERIAL TOUCHSCREEN_EXC3000 TOUCHSCREEN_FUJITSU TOUCHSCREEN_GOODIX \
		TOUCHSCREEN_HIDEEP TOUCHSCREEN_ILI210X TOUCHSCREEN_S6SY761 TOUCHSCREEN_GUNZE TOUCHSCREEN_EKTF2127 TOUCHSCREEN_ELAN TOUCHSCREEN_ELO TOUCHSCREEN_WACOM_W8001 \
		TOUCHSCREEN_WACOM_I2C TOUCHSCREEN_MAX11801 TOUCHSCREEN_MCS5000 TOUCHSCREEN_MMS114 TOUCHSCREEN_MELFAS_MIP4 TOUCHSCREEN_MTOUCH \
		TOUCHSCREEN_IMX6UL_TSC TOUCHSCREEN_INEXIO TOUCHSCREEN_MK712 TOUCHSCREEN_PENMOUNT TOUCHSCREEN_EDT_FT5X06 TOUCHSCREEN_TOUCHRIGHT TOUCHSCREEN_TOUCHWIN \
		TOUCHSCREEN_TI_AM335X_TSC TOUCHSCREEN_UCB1400 TOUCHSCREEN_PIXCIR TOUCHSCREEN_WDT87XX_I2C TOUCHSCREEN_WM831X TOUCHSCREEN_WM97XX TOUCHSCREEN_WM9705 \
		TOUCHSCREEN_WM9712 TOUCHSCREEN_WM9713 TOUCHSCREEN_USB_COMPOSITE TOUCHSCREEN_MC13783 TOUCHSCREEN_USB_EGALAX TOUCHSCREEN_USB_PANJIT TOUCHSCREEN_USB_3M \
		TOUCHSCREEN_USB_ITM TOUCHSCREEN_USB_ETURBO TOUCHSCREEN_USB_GUNZE TOUCHSCREEN_USB_DMC_TSC10 TOUCHSCREEN_USB_IRTOUCH TOUCHSCREEN_USB_IDEALTEK \
		TOUCHSCREEN_USB_GENERAL_TOUCH TOUCHSCREEN_USB_GOTOP TOUCHSCREEN_USB_JASTEC TOUCHSCREEN_USB_ELO TOUCHSCREEN_USB_E2I TOUCHSCREEN_USB_ZYTRONIC \
		TOUCHSCREEN_USB_ETT_TC45USB TOUCHSCREEN_USB_NEXIO TOUCHSCREEN_USB_EASYTOUCH TOUCHSCREEN_TOUCHIT213 TOUCHSCREEN_TSC_SERIO TOUCHSCREEN_TSC200X_CORE \
		TOUCHSCREEN_TSC2004 TOUCHSCREEN_TSC2005 TOUCHSCREEN_TSC2007 TOUCHSCREEN_TSC2007_IIO TOUCHSCREEN_PCAP TOUCHSCREEN_RM_TS TOUCHSCREEN_SILEAD \
		TOUCHSCREEN_SIS_I2C TOUCHSCREEN_ST1232 TOUCHSCREEN_STMFTS TOUCHSCREEN_STMPE TOUCHSCREEN_SUR40 TOUCHSCREEN_SURFACE3_SPI TOUCHSCREEN_SX8654 \
		TOUCHSCREEN_TPS6507X TOUCHSCREEN_ZET6223 TOUCHSCREEN_ZFORCE TOUCHSCREEN_COLIBRI_VF50 TOUCHSCREEN_ROHM_BU21023 TOUCHSCREEN_BU21029 TOUCHSCREEN_CHIPONE_ICN8505

	# joystick drivers
	yconfig INPUT_JOYSTICK
	mconfig JOYSTICK_ANALOG JOYSTICK_A3D JOYSTICK_ADI JOYSTICK_COBRA JOYSTICK_GF2K JOYSTICK_GRIP JOYSTICK_GRIP_MP \
		JOYSTICK_GUILLEMOT JOYSTICK_INTERACT JOYSTICK_SIDEWINDER JOYSTICK_TMDC JOYSTICK_IFORCE JOYSTICK_IFORCE_USB \
		JOYSTICK_IFORCE_232 JOYSTICK_WARRIOR JOYSTICK_MAGELLAN JOYSTICK_SPACEORB JOYSTICK_SPACEBALL JOYSTICK_STINGER \
		JOYSTICK_TWIDJOY JOYSTICK_ZHENHUA JOYSTICK_DB9 JOYSTICK_GAMECON JOYSTICK_TURBOGRAFX JOYSTICK_AS5011 JOYSTICK_JOYDUMP \
		JOYSTICK_XPAD JOYSTICK_XPAD_FF JOYSTICK_XPAD_LEDS JOYSTICK_WALKERA0701 JOYSTICK_PSXPAD_SPI JOYSTICK_PSXPAD_SPI_FF JOYSTICK_PXRC

	# host ap
	mconfig HOSTAP HOSTAP_FIRMWARE HOSTAP_FIRMWARE_NVRAM HOSTAP_PLX HOSTAP_PCI HOSTAP_CS

	# netorking extra
	yconfig VIRTIO_NET NETCONSOLE_DYNAMIC NETPOLL NET_POLL_CONTROLLER NET_FC NET_CORE NETDEVICES \
		SLIP_COMPRESSED SLIP_SMART PPP_MULTILINK PPP_FILTER SWPHY LED_TRIGGER_PHY HIPPI WIZNET_BUS_ANY FDDI VIA_RHINE_MMIO \
		SFC_MTD SFC_MCDI_MON SFC_SRIOV SFC_FALCON SFC_FALCON_MTD 8139TOO_PIO 8139TOO_8129 QED_RDMA QED_ISCSI QED_FCOE \
		QED_OOO QED_LL2 QED_SRIOV QLCNIC_SRIOV QLCNIC_HWMON NFP_APP_FLOWER NFP_APP_ABM_NIC MYRI10GE_DCA MLXSW_CORE_HWMON \
		MLXSW_CORE_THERMAL MLX5_CORE_EN MLX5_EN_ARFS MLX5_EN_RXNFC MLX5_MPFS MLX5_ESWITCH MLX5_CORE_IPOIB MLX4_DEBUG \
		MLX4_CORE_GEN2 SKGE_GENESIS IXGBE_HWMON IXGBE_DCA IGB_HWMON IGB_DCA E1000E_HWTS BE2NET_HWMON BE2NET_BE2 BE2NET_BE3 \
		BE2NET_LANCER BE2NET_SKYHAWK TULIP_MMIO NET_TULIP CHELSIO_T1_1G MACB_USE_HWSTAMP BNXT_SRIOV BNXT_FLOWER_OFFLOAD \
		BNXT_HWMON BNX2X_SRIOV TIGON3_HWMON B44_PCI_AUTOSELECT B44_PCICORE_AUTOSELECT B44_PCI AMD_XGBE_HAVE_ECC ETHERNET \
		NET_DSA_MV88E6XXX_GLOBAL2 NET_DSA_MV88E6XXX_PTP NVM HYSDN_CAPI GIGASET_I4L ISDN_DIVAS_BRIPCI ISDN_DIVAS_PRIPCI \
		CAPI_EICON ISDN_DRV_AVMB1_B1PCIV4 CAPI_AVM ISDN_CAPI_MIDDLEWARE CAPI_TRACE HISAX_16_3 HISAX_TELESPCI HISAX_S0BOX HISAX_FRITZPCI \
		HISAX_AVM_A1_PCMCIA HISAX_ELSA HISAX_DIEHLDIVA HISAX_SEDLBAUER HISAX_NETJET HISAX_NETJET_U HISAX_NICCY HISAX_BKM_A4T \
		HISAX_SCT_QUADRO HISAX_GAZEL HISAX_HFC_PCI HISAX_W6692 HISAX_HFC_SX HISAX_ENTERNOW_PCI HISAX_EURO DE_AOC \
		HISAX_NO_SENDCOMPLETE HISAX_NO_LLC HISAX_NO_KEYPAD HISAX_1TR6 HISAX_NI1 ISDN_AUDIO ISDN_TTY_FAX NET_FAILOVER ISDN ISDN_PPP \
		ISDN_PPP_VJ ISDN_MPP IPPP_FILTER WAN WILINK_PLATFORM_DATA RSI_COEX RSI_DEBUGFS RTL8XXXU_UNTESTED RTL8187_LEDS RT2X00_LIB_FIRMWARE \
		RT2X00_LIB_CRYPTO RT2X00_LIB_LEDS RT2800USB_RT33XX RT2800USB_RT35XX RT2800USB_RT3573 RT2800USB_RT53XX RT2800USB_RT55XX RT2800USB_UNKNOWN \
		RT2800PCI_RT33XX RT2800PCI_RT35XX RT2800PCI_RT53XX RT2800PCI_RT3290 MT76_LEDS LIBERTAS_MESH P54_LEDS HERMES_CACHE_FW_ON_INIT IWLWIFI_OPMODE_MODULAR \
		IWLWIFI_LEDS IPW2200_MONITOR IPW2200_RADIOTAP IPW2200_PROMISCUOUS IPW2200_QOS IPW2100_MONITOR BRCMFMAC_PROTO_BCDC BRCMFMAC_PROTO_MSGBUF \
		BRCMFMAC_SDIO BRCMFMAC_USB BRCMFMAC_PCIE BRCM_TRACING B43LEGACY_PCI_AUTOSELECT B43LEGACY_PCICORE_AUTOSELECT B43LEGACY_LEDS B43LEGACY_HWRNG \
		B43LEGACY_DMA B43LEGACY_PIO B43LEGACY_DMA_AND_PIO_MODE B43_BCMA B43_SSB B43_BUSES_BCMA_AND_SSB B43_PCI_AUTOSELECT B43_PCICORE_AUTOSELECT \
		B43_SDIO B43_BCMA_PIO B43_PIO B43_PHY_G B43_PHY_N B43_PHY_LP B43_PHY_HT B43_LEDS B43_HWRNG WCN36XX_DEBUGFS ATH10K_DEBUGFS ATH10K_CE \
		WIL6210_ISR_COR WIL6210_DEBUGFS CARL9170_LEDS CARL9170_WPC ATH9K_PCI ATH9K_WOW ATH9K_RFKILL ATH9K_CHANNEL_CONTEXT ATH9K_PCOEM \
		ATH9K_BTCOEX_SUPPORT ATH5K_PCI WLAN USB_ALI_M5632 USB_AN2720 USB_BELKIN USB_ARMLINUX USB_NET_DRIVERS KEY_DM_OPERATIONS CAN_J1939
	mconfig MII BONDING DUMMY EQUALIZER IFB NET_TEAM NET_TEAM_MODE_BROADCAST NET_TEAM_MODE_ROUNDROBIN \
		NET_TEAM_MODE_RANDOM NET_TEAM_MODE_ACTIVEBACKUP NET_TEAM_MODE_LOADBALANCE MACVLAN MACVTAP \
		IPVLAN IPVTAP VXLAN GENEVE GTP MACSEC NETCONSOLE NTB_NETDEV TUN TAP VETH NLMON NET_VRF VSOCKMON \
		SUNGEM_PHY ARCNET ARCNET_1201 ARCNET_1051 ARCNET_RAW ARCNET_CAP ARCNET_COM90xx ARCNET_COM90xxIO \
		ARCNET_RIM_I ARCNET_COM20020 ARCNET_COM20020_PCI ARCNET_COM20020_CS \
		PLIP PPP PPP_BSDCOMP PPP_DEFLATE PPP_MPPE PPPOATM PPPOE PPTP PPPOL2TP PPP_ASYNC PPP_SYNC_TTY SLIP SLHC \
		B53 B53_MDIO_DRIVER B53_MMAP_DRIVER B53_SRAB_DRIVER NET_DSA_BCM_SF2 NET_DSA_LOOP NET_DSA_MT7530 MICROCHIP_KSZ \
		NET_DSA_MV88E6XXX NET_DSA_QCA8K NET_DSA_REALTEK_SMI NET_DSA_SMSC_LAN9303 NET_DSA_SMSC_LAN9303_I2C NET_DSA_SMSC_LAN9303_MDIO \
		MDIO VORTEX TYPHOON ADAPTEC_STARFIRE ACENIC ALTERA_TSE ENA_ETHERNET AMD8111_ETH PCNET32 AMD_XGBE AQTION ATL2 ATL1 ATL1E ATL1C \
		ALX AURORA_NB8800 B44 BCMGENET BNX2 CNIC TIGON3 BNX2X BNXT BNA MACB MACB_PCI THUNDER_NIC_PF THUNDER_NIC_VF THUNDER_NIC_BGX \
		THUNDER_NIC_RGX CAVIUM_PTP LIQUIDIO LIQUIDIO_VF CHELSIO_T1 CHELSIO_T3 CHELSIO_T4 CHELSIO_T4VF CHELSIO_LIB ENIC CX_ECAT \
		DNET DE2104X TULIP DE4X5 WINBOND_840 DM9102 ULI526X DL2K SUNDANCE BE2NET HP100 E100 E1000 E1000E IGB IGBVF IXGB \
		IXGBE IXGBEVF I40E I40EVF ICE FM10K JME MVMDIO SKGE SKY2 MLX4_EN MLX4_CORE MLX5_CORE MLXSW_CORE MLXSW_PCI MLXSW_I2C MLXSW_SWITCHIB \
		MLXSW_SWITCHX2 MLXSW_SPECTRUM MLXSW_MINIMAL MLXFW KS8842 KS8851_MLL KSZ884X_PCI MYRI10GE FEALNX NATSEMI NS83820 S2IO VXGE NFP \
		NE2K_PCI FORCEDETH ETHOC HAMACHI YELLOWFIN QLA3XXX QLCNIC QLGE NETXEN_NIC QED QEDE R6040 ATP 8139CP 8139TOO R8169 ROCKER SXGBE_ETH \
		SFC SC92031 SIS900 SIS190 EPIC100 SMSC911X SMSC9420 STMMAC_ETH STMMAC_PLATFORM DWMAC_GENERIC HAPPYMEAL SUNGEM CASSINI \
		NIU DWC_XLGMAC DWC_XLGMAC_PCI TEHUTI TI_CPSW_ALE TLAN VIA_RHINE VIA_VELOCITY WIZNET_W5100 WIZNET_W5300 DEFXX SKFP ROADRUNNER \
		NET_SB1000 MDIO_DEVICE MDIO_BUS MDIO_BCM_UNIMAC MDIO_BITBANG MDIO_CAVIUM MDIO_GPIO MDIO_I2C MDIO_THUNDER PHYLINK PHYLIB \
		WIMAX_I2400M WIMAX_I2400M_USB LANMEDIA HDLC HDLC_RAW HDLC_RAW_ETH HDLC_CISCO HDLC_FR HDLC_PPP PCI200SYN WANXL FARSYNC DSCC4 \
		DLCI SBNI IEEE802154_DRIVERS IEEE802154_FAKELB IEEE802154_ATUSB VMXNET3 FUJITSU_ES THUNDERBOLT_NET ISDN_PPP_BSDCOMP ISDN_DIVERSION \
		ISDN_DRV_HISAX HISAX_SEDLBAUER_CS HISAX_ELSA_CS HISAX_AVM_A1_CS HISAX_TELES_CS HISAX_ST5481 HISAX_HFCUSB HISAX_HFC4S8S \
		HISAX_FRITZ_PCIPNP ISDN_CAPI ISDN_CAPI_CAPI20 ISDN_CAPI_CAPIDRV ISDN_DRV_AVMB1_B1PCI ISDN_DRV_AVMB1_B1PCMCIA ISDN_DRV_AVMB1_AVM_CS \
		ISDN_DRV_AVMB1_T1PCI ISDN_DRV_AVMB1_C4 ISDN_DIVAS ISDN_DIVAS_DIVACAPI ISDN_DIVAS_USERIDI ISDN_DIVAS_MAINT ISDN_DRV_GIGASET GIGASET_BASE \
		GIGASET_M105 HYSDN MISDN MISDN_DSP MISDN_L1OIP MISDN_HFCPCI MISDN_HFCMULTI MISDN_HFCUSB MISDN_AVMFRITZ MISDN_SPEEDFAX MISDN_INFINEON \
		MISDN_W6692 MISDN_NETJET MISDN_IPAC MISDN_ISAR ISDN_HDLC ISDN_I4L SFP AMD_PHY AQUANTIA_PHY AT803X_PHY BCM7XXX_PHY BCM87XX_PHY \
		BCM_NET_PHYLIB BROADCOM_PHY CICADA_PHY CORTINA_PHY DAVICOM_PHY DP83822_PHY DP83848_PHY DP83867_PHY FIXED_PHY ICPLUS_PHY INTEL_XWAY_PHY \
		LSI_ET1011C_PHY LXT_PHY MARVELL_PHY MARVELL_10G_PHY MICREL_PHY MICROCHIP_PHY MICROSEMI_PHY NATIONAL_PHY QSEMI_PHY REALTEK_PHY RENESAS_PHY \
		ROCKCHIP_PHY SMSC_PHY STE10XP TERANETICS_PHY VITESSE_PHY XILINX_GMII2RGMII USB_CATC USB_KAWETH USB_PEGASUS USB_RTL8150 USB_RTL8152 USB_LAN78XX \
		USB_USBNET USB_NET_AX8817X USB_NET_AX88179_178A USB_NET_CDCETHER USB_NET_CDC_EEM USB_NET_CDC_NCM USB_NET_HUAWEI_CDC_NCM \
		USB_NET_CDC_MBIM USB_NET_DM9601 USB_NET_SR9700 USB_NET_SR9800 USB_NET_SMSC75XX USB_NET_SMSC95XX USB_NET_GL620A USB_NET_NET1080 \
		USB_NET_PLUSB USB_NET_MCS7830 USB_NET_RNDIS_HOST USB_NET_CDC_SUBSET_ENABLE USB_NET_CDC_SUBSET USB_NET_ZAURUS USB_NET_CX82310_ETH \
		USB_NET_KALMIA USB_NET_QMI_WWAN USB_HSO USB_NET_INT51X1 USB_IPHETH USB_SIERRA_NET USB_VL600 USB_NET_CH9200 ADM8211 ATH_COMMON ATH5K \
		ATH9K_HW ATH9K_COMMON ATH9K ATH9K_HTC CARL9170 ATH6KL ATH6KL_SDIO ATH6KL_USB AR5523 WIL6210 ATH10K ATH10K_PCI ATH10K_SDIO \
		ATH10K_USB WCN36XX ATMEL PCI_ATMEL AT76C50X_USB B43 B43LEGACY BRCMUTIL BRCMSMAC BRCMFMAC AIRO AIRO_CS IPW2100 IPW2200 LIBIPW \
		IWLEGACY IWL4965 IWL3945 IWLWIFI IWLDVM IWLMVM HERMES PLX_HERMES TMD_HERMES NORTEL_HERMES ORINOCO_USB P54_COMMON P54_USB P54_PCI \
		PRISM54 LIBERTAS LIBERTAS_USB LIBERTAS_CS LIBERTAS_SDIO LIBERTAS_THINFIRM LIBERTAS_THINFIRM_USB MWIFIEX MWIFIEX_SDIO MWIFIEX_PCIE \
		MWIFIEX_USB MWL8K MT7601U MT76_CORE MT76_USB MT76x2_COMMON MT76x0U MT76x2E MT76x2U RT2X00 RT2400PCI RT2500PCI RT61PCI RT2800PCI \
		RT2500USB RT73USB RT2800USB RT2800_LIB RT2800_LIB_MMIO RT2X00_LIB_MMIO RT2X00_LIB_PCI RT2X00_LIB_USB RT2X00_LIB RTL8180 RTL8187 \
		RTL_CARDS RTL8192CE RTL8192SE RTL8192DE RTL8723AE RTL8723BE RTL8188EE RTL8192EE RTL8821AE RTL8192CU RTLWIFI RTLWIFI_PCI \
		RTLWIFI_USB RTL8192C_COMMON RTL8723_COMMON RTLBTCOEXIST RTL8XXXU RSI_91X RSI_SDIO RSI_USB CW1200 CW1200_WLAN_SDIO WL1251 \
		WL1251_SDIO WL12XX WL18XX WLCORE WLCORE_SDIO USB_ZD1201 ZD1211RW QTNFMAC QTNFMAC_PEARL_PCIE USB_NET_RNDIS_WLAN \
		MT76x0U MT76x0E MT76x2E MT76x2U MT7603E IONIC
	nconfig TUN_VNET_CROSS_LE  ACENIC_OMIT_TIGON_I ET131X SLICOSS SYSTEMPORT SUNDANCE_MMIO TULIP_NAPI TULIP_MWI \
		SKGE_DEBUG SKY2_DEBUG MLX5_FPGA MDIO_MSCC_MIIM ROADRUNNER_LARGE_RINGS DEFXX_MMIO WIZNET_BUS_DIRECT \
		WIZNET_BUS_INDIRECT STMMAC_PCI SFC_MCDI_LOGGING 8139_OLD_RX_RESET 8139TOO_TUNE_TWISTER QCOM_EMAC RMNET \
		NFP_DEBUG VXGE_DEBUG_TRACE_ALL GIGASET_M101 GIGASET_DEBUG GIGASET_CAPI ISDN_CAPI_CAPIDRV_VERBOSE HISAX_DEBUG \
		NETDEVSIM IEEE802154_HWSIM SBNI_MULTILINE DSCC4_PCISYNC DSCC4_PCI_RST PC300TOO MAC80211_HWSIM ZD1211RW_DEBUG \
		RTLWIFI_DEBUG RT2X00_DEBUG LIBERTAS_THINFIRM_DEBUG LIBERTAS_DEBUG HERMES_PRISM IWLWIFI_BCAST_FILTERING \
		IWLWIFI_PCIE_RTPM IWLWIFI_DEBUG IWLWIFI_DEVICE_TRACING IWLEGACY_DEBUG LIBIPW_DEBUG IPW2200_DEBUG \
		IPW2100_DEBUG BRCMDBG B43LEGACY_DMA_MODE B43LEGACY_PIO_MODE B43LEGACY_DEBUG B43_DEBUG B43_BUSES_BCMA B43_BUSES_SSB \
		ATH10K_SPECTRAL ATH10K_TRACING ATH10K_DEBUG WIL6210_TRACING ATH6KL_DEBUG ATH6KL_TRACING CARL9170_HWRNG ATH9K_HTC_DEBUGFS \
		ATH9K_HWRNG ATH9K_AHB ATH9K_DEBUGFS ATH9K_DYNACK ATH5K_DEBUG ATH5K_TRACER ATH_DEBUG WIRELESS_WDS USB_EPSON2888 USB_KC2190 \
		MICROCHIP_T1_PHY DP83TC811_PHY ASIX_PHY

	# netfilter
	yconfig NF_NAT_NEEDED BPFILTER XFRM XFRM_MIGRATE XFRM_SUB_POLICY XFRM_STATISTICS XFRM_USER BRIDGE_NETFILTER \
		NET_AH INET_ESP INET_IPCOMP INET_XFRM_TUNNEL INET_TUNNEL INET_XFRM_MODE_TRANSPORT \
		INET_XFRM_MODE_TUNNEL INET_XFRM_MODE_BEET INET_LRO INET_DIAG INET_TCP_DIAG \
		INET_UDP_DIAG TCP_CONG_CUBIC TCP_MD5SIG NET_PTP_CLASSIFY NETFILTER NETFILTER_DEBUG \
		NETFILTER_ADVANCED NF_CT_PROTO_SCTP NF_CT_PROTO_UDPLITE NF_CONNTRACK_MARK NF_CONNTRACK_PROCFS \
		NF_CONNTRACK_EVENTS NF_CONNTRACK_TIMEOUT NF_CONNTRACK_TIMESTAMP NF_CONNTRACK_LABELS \
		NF_CT_PROTO_DCCP NF_NAT_NEEDED NF_NAT_PROTO_DCCP NF_NAT_PROTO_UDPLITE NF_NAT_PROTO_SCTP \
		NETFILTER_NETLINK_QUEUE_CT NF_TABLES NF_TABLES_INET NFT_RBTREE NFT_HASH NFT_META NFT_REJECT \
		NFT_REJECT_INET NF_CONNTRACK_PROC_COMPAT NF_TABLES_IPV4 NF_REJECT_IPV4 NFT_REJECT_IPV4 \
		NF_TABLES_IPV6 NF_REJECT_IPV6 NFT_REJECT_IPV6 IPV6_NDISC_NODETYPE NETFILTER_NETLINK NF_CONNTRACK_ENABLED
	mconfig NETFILTER_NETLINK NETFILTER_NETLINK_LOG NF_CONNTRACK NF_CONNTRACK_FTP NF_CONNTRACK_IRC \
		NF_CONNTRACK_BROADCAST NF_CONNTRACK_NETBIOS_NS NF_CONNTRACK_SIP NF_CT_NETLINK \
		NF_NAT NF_NAT_FTP NF_NAT_IRC NF_NAT_SIP NETFILTER_XTABLES NETFILTER_XT_NAT \
		NETFILTER_XT_MATCH_ADDRTYPE NETFILTER_XT_MATCH_CONNTRACK NETFILTER_XT_MATCH_IPRANGE \
		NETFILTER_XT_MATCH_OWNER NETFILTER_XT_MATCH_STATE NF_DEFRAG_IPV4 NF_CONNTRACK_IPV4 \
		NF_REJECT_IPV4 NF_NAT_IPV4 NF_NAT_MASQUERADE_IPV4 IP_NF_IPTABLES IP_NF_FILTER \
		IP_NF_TARGET_REJECT IP_NF_NAT IP_NF_TARGET_MASQUERADE IP_NF_MANGLE \
		NF_DEFRAG_IPV6 NF_CONNTRACK_IPV6 NF_REJECT_IPV6 NF_NAT_IPV6 NF_NAT_MASQUERADE_IPV6 \
		IP6_NF_IPTABLES IP6_NF_FILTER IP6_NF_TARGET_REJECT IP6_NF_MANGLE IP6_NF_NAT \
		IP6_NF_TARGET_MASQUERADE NF_NAT_FTP NF_CONNTRACK_FTP NF_NAT_TFTP \
		BRIDGE_NETFILTER NF_NAT_IPV4 IP_NF_FILTER IP_NF_TARGET_MASQUERADE \
		NETFILTER_XT_MATCH_ADDRTYPE NETFILTER_XT_MATCH_CONNTRACK NETFILTER_XT_MATCH_IPVS \
		IP_NF_NAT NF_NAT NF_DEFRAG_IPV4 NF_CONNTRACK_IPV4 NF_TABLES_IPV4 \
		NFT_CHAIN_ROUTE_IPV4 NFT_CHAIN_NAT_IPV4 IP_NF_IPTABLES IP_NF_MATCH_ADDRTYPE \
		IP_NF_MATCH_AH IP_NF_MATCH_ECN IP_NF_MATCH_IPRANGE IP_NF_MATCH_OWNER \
		IP_NF_MATCH_RECENT IP_NF_MATCH_RPFILTER IP_NF_MATCH_TOS IP_NF_MATCH_TTL \
		IP_NF_FILTER IP_NF_TARGET_REJECT IP_NF_TARGET_SYNPROXY IP_NF_TARGET_MASQUERADE \
		IP_NF_TARGET_NETMAP IP_NF_TARGET_REDIRECT IP_NF_TARGET_SAME IP_NF_TARGET_TOS \
		IP_NF_TARGET_LOG IP_NF_TARGET_ULOG NF_NAT_IPV4 NF_NAT_SNMP_BASIC NF_NAT_PROTO_GRE \
		NF_NAT_PPTP NF_NAT_H323 IP_NF_MANGLE IP_NF_ARPTABLES IP_NF_TARGET_CLUSTERIP \
		IP_NF_TARGET_ECN IP_NF_TARGET_TTL IP_NF_QUEUE IP_NF_RAW IP_NF_SECURITY \
		IP_NF_ARPTABLES IP_NF_ARPFILTER IP_NF_ARP_MANGLE NF_DEFRAG_IPV6 NF_CONNTRACK_IPV6 \
		NF_TABLES_IPV6 NFT_CHAIN_ROUTE_IPV6 NFT_CHAIN_NAT_IPV6 IP6_NF_IPTABLES \
		IP6_NF_MATCH_AH IP6_NF_MATCH_EUI64 IP6_NF_MATCH_FRAG IP6_NF_MATCH_OPTS \
		IP6_NF_MATCH_OWNER IP6_NF_MATCH_HL IP6_NF_MATCH_IPV6HEADER IP6_NF_MATCH_MH \
		IP6_NF_MATCH_RPFILTER IP6_NF_MATCH_RT IP6_NF_TARGET_HL IP6_NF_FILTER IP6_NF_TARGET_LOG \
		IP6_NF_TARGET_REJECT IP6_NF_TARGET_SYNPROXY IP6_NF_MANGLE IP6_NF_QUEUE IP6_NF_RAW \
		IP6_NF_SECURITY NF_NAT_IPV6 IP6_NF_TARGET_MASQUERADE IP6_NF_TARGET_NPT \
		NF_TABLES_BRIDGE BRIDGE_NF_EBTABLES BRIDGE_EBT_BROUTE BRIDGE_EBT_T_FILTER \
		BRIDGE_EBT_T_NAT BRIDGE_EBT_802_3 BRIDGE_EBT_AMONG BRIDGE_EBT_ARP BRIDGE_EBT_IP \
		BRIDGE_EBT_IP6 BRIDGE_EBT_LIMIT BRIDGE_EBT_MARK BRIDGE_EBT_PKTTYPE BRIDGE_EBT_STP \
		BRIDGE_EBT_VLAN BRIDGE_EBT_ARPREPLY BRIDGE_EBT_DNAT BRIDGE_EBT_MARK_T BRIDGE_EBT_REDIRECT \
		BRIDGE_EBT_SNAT BRIDGE_EBT_LOG BRIDGE_EBT_ULOG BRIDGE_EBT_NFLOG IP_DCCP INET_DCCP_DIAG \
		BRIDGE_NF_EBTABLES BRIDGE_EBT_802_3 BRIDGE_EBT_AMONG BRIDGE_EBT_ARP BRIDGE_EBT_ARPREPLY \
		BRIDGE_EBT_BROUTE BRIDGE_EBT_DNAT BRIDGE_EBT_IP BRIDGE_EBT_IP6 BRIDGE_EBT_LIMIT \
		BRIDGE_EBT_LOG BRIDGE_EBT_MARK BRIDGE_EBT_MARK_T BRIDGE_EBT_NFLOG BRIDGE_EBT_PKTTYPE \
		BRIDGE_EBT_REDIRECT BRIDGE_EBT_SNAT BRIDGE_EBT_STP BRIDGE_EBT_T_FILTER BRIDGE_EBT_T_NAT \
		BRIDGE_EBT_ULOG BRIDGE_EBT_VLAN INET_XFRM_MODE_TRANSPORT INET_XFRM_MODE_TUNNEL \
		INET_XFRM_MODE_BEET INET6_XFRM_MODE_TRANSPORT INET6_XFRM_MODE_TUNNEL \
		INET6_XFRM_MODE_ROUTEOPTIMIZATION INET6_XFRM_MODE_BEET \
		INET6_AH INET6_ESP INET6_IPCOMP INET6_XFRM_TUNNEL INET6_TUNNEL INET6_XFRM_MODE_TRANSPORT \
		INET6_XFRM_MODE_TUNNEL INET6_XFRM_MODE_BEET IPV6_VTI IPV6_SIT IPV6_TUNNEL IPV6_GRE \
		NETFILTER_NETLINK_ACCT NETFILTER_NETLINK_QUEUE NETFILTER_NETLINK_LOG NF_CONNTRACK \
		NF_LOG_COMMON NF_CT_PROTO_GRE NF_CONNTRACK_FTP NF_CONNTRACK_H323 NF_CONNTRACK_IRC \
		NF_CONNTRACK_BROADCAST NF_CONNTRACK_NETBIOS_NS NF_CONNTRACK_SNMP NF_CONNTRACK_PPTP \
		NF_CONNTRACK_SIP NF_CONNTRACK_TFTP NF_CT_NETLINK NF_CT_NETLINK_TIMEOUT \
		NF_CT_NETLINK_HELPER NF_NAT NF_NAT_FTP NF_NAT_IRC NF_NAT_SIP NF_NAT_TFTP \
		NETFILTER_SYNPROXY NFT_EXTHDR NFT_CT NFT_COUNTER NFT_LOG NFT_LIMIT NFT_MASQ \
		NFT_NAT NFT_QUEUE NFT_COMPAT NETFILTER_XTABLES NETFILTER_XT_MARK NETFILTER_XT_CONNMARK \
		NETFILTER_XT_SET NETFILTER_XT_TARGET_CHECKSUM NETFILTER_XT_TARGET_CLASSIFY \
		NETFILTER_XT_TARGET_CONNMARK NETFILTER_XT_TARGET_CT NETFILTER_XT_TARGET_DSCP \
		NETFILTER_XT_TARGET_HL NETFILTER_XT_TARGET_HMARK NETFILTER_XT_TARGET_IDLETIMER \
		NETFILTER_XT_TARGET_LOG NETFILTER_XT_TARGET_MARK NETFILTER_XT_NAT NETFILTER_XT_TARGET_NETMAP \
		NETFILTER_XT_TARGET_NFLOG NETFILTER_XT_TARGET_NFQUEUE NETFILTER_XT_TARGET_NOTRACK NETFILTER_XT_TARGET_\
		RATEEST NETFILTER_XT_TARGET_REDIRECT NETFILTER_XT_TARGET_TEE NETFILTER_XT_TARGET_TPROXY \
		NETFILTER_XT_TARGET_TRACE NETFILTER_XT_TARGET_TCPMSS NETFILTER_XT_MATCH_ADDRTYPE \
		NETFILTER_XT_MATCH_BPF NETFILTER_XT_MATCH_CGROUP NETFILTER_XT_MATCH_CLUSTER \
		NETFILTER_XT_MATCH_COMMENT NETFILTER_XT_MATCH_CONNBYTES NETFILTER_XT_MATCH_CONNLABEL \
		NETFILTER_XT_MATCH_CONNLIMIT NETFILTER_XT_MATCH_CONNMARK NETFILTER_XT_MATCH_CONNTRACK \
		NETFILTER_XT_MATCH_CPU NETFILTER_XT_MATCH_DCCP NETFILTER_XT_MATCH_DEVGROUP \
		NETFILTER_XT_MATCH_DSCP NETFILTER_XT_MATCH_ECN NETFILTER_XT_MATCH_ESP \
		NETFILTER_XT_MATCH_HASHLIMIT NETFILTER_XT_MATCH_HELPER NETFILTER_XT_MATCH_HL \
		NETFILTER_XT_MATCH_IPRANGE NETFILTER_XT_MATCH_L2TP NETFILTER_XT_MATCH_LENGTH \
		NETFILTER_XT_MATCH_LIMIT NETFILTER_XT_MATCH_MAC NETFILTER_XT_MATCH_MARK \
		NETFILTER_XT_MATCH_MULTIPORT NETFILTER_XT_MATCH_NFACCT NETFILTER_XT_MATCH_OSF \
		NETFILTER_XT_MATCH_OWNER NETFILTER_XT_MATCH_POLICY NETFILTER_XT_MATCH_PKTTYPE \
		NETFILTER_XT_MATCH_QUOTA NETFILTER_XT_MATCH_RATEEST NETFILTER_XT_MATCH_REALM \
		NETFILTER_XT_MATCH_RECENT NETFILTER_XT_MATCH_SCTP NETFILTER_XT_MATCH_SOCKET \
		NETFILTER_XT_MATCH_STATE NETFILTER_XT_MATCH_STATISTIC NETFILTER_XT_MATCH_STRING \
		NETFILTER_XT_MATCH_TCPMSS NETFILTER_XT_MATCH_TIME NETFILTER_XT_MATCH_U32 IP_SET \
		IP_SET_BITMAP_IP IP_SET_BITMAP_IPMAC IP_SET_BITMAP_PORT IP_SET_HASH_IP \
		IP_SET_HASH_IPMARK IP_SET_HASH_IPPORT IP_SET_HASH_IPPORTIP IP_SET_HASH_IPPORTNET \
		IP_SET_HASH_MAC IP_SET_HASH_NETPORTNET IP_SET_HASH_NET IP_SET_HASH_NETNET \
		IP_SET_HASH_NETPORT IP_SET_HASH_NETIFACE IP_SET_LIST_SET NF_DEFRAG_IPV4 \
		NF_CONNTRACK_IPV4 NF_LOG_ARP NF_LOG_IPV4 NFT_CHAIN_ROUTE_IPV4 NF_NAT_IPV4 \
		NFT_CHAIN_NAT_IPV4 NF_NAT_MASQUERADE_IPV4 NFT_MASQ_IPV4 NF_NAT_PROTO_GRE \
		NF_NAT_PPTP NF_NAT_H323 IP_NF_IPTABLES IP_NF_MATCH_AH IP_NF_MATCH_ECN \
		IP_NF_MATCH_RPFILTER IP_NF_MATCH_TTL IP_NF_FILTER IP_NF_TARGET_REJECT \
		IP_NF_TARGET_SYNPROXY IP_NF_NAT IP_NF_TARGET_MASQUERADE \
		IP_NF_TARGET_REDIRECT IP_NF_MANGLE IP_NF_TARGET_ECN IP_NF_TARGET_TTL \
		IP_NF_RAW IP_NF_ARPTABLES IP_NF_ARPFILTER IP_NF_ARP_MANGLE NF_DEFRAG_IPV6 \
		NF_CONNTRACK_IPV6 NFT_CHAIN_ROUTE_IPV6 NF_LOG_IPV6 NF_NAT_IPV6 NFT_CHAIN_NAT_IPV6 \
		NF_NAT_MASQUERADE_IPV6 NFT_MASQ_IPV6 IP6_NF_IPTABLES IP6_NF_MATCH_RPFILTER \
		IP6_NF_MATCH_RT IP6_NF_TARGET_HL IP6_NF_FILTER IP6_NF_TARGET_REJECT \
		IP6_NF_TARGET_SYNPROXY IP6_NF_MANGLE IP6_NF_NAT IP6_NF_TARGET_MASQUERADE \
		IP6_NF_TARGET_NPT NF_TABLES_BRIDGE NFT_BRIDGE_META NFT_BRIDGE_REJECT NF_LOG_BRIDGE IP_SCTP
	nconfig NFT_REJECT_IPV6 NFT_REJECT_IPV4 NF_TABLES_ARP NF_CONNTRACK_PROC_COMPAT

	# QoS
	mconfig NET_SCHED NET_SCH_CBQ NET_SCH_DSMARK NET_SCH_DRR NET_SCH_GRED NET_SCH_HFSC NET_SCH_HTB NET_SCH_INGRESS \
		NET_SCH_NETEM NET_SCH_PRIO NET_SCH_RED NET_SCH_RR NET_SCH_SFQ NET_SCH_TBF NET_SCH_TEQL \
		NET_CLS NET_CLS_ACT NET_CLS_BASIC NET_CLS_CGROUP NET_CLS_FLOW NET_CLS_FW NET_CLS_IND \
		NET_CLS_POLICE NET_CLS_ROUTE4 NET_CLS_ROUTE NET_CLS_RSVP NET_CLS_RSVP6 NET_CLS_TCINDEX \
		NET_CLS_U32 CLS_U32_MARK CLS_U32_PERF NET_EMATCH NET_EMATCH_CMP NET_EMATCH_META NET_EMATCH_NBYTE \
		NET_EMATCH_TEXT NET_EMATCH_U32 NET_ACT_GACT GACT_PROB NET_ACT_IPT \
		NET_ACT_MIRRED NET_ACT_NAT NET_ACT_PEDIT NET_ACT_POLICE NET_ACT_SIMP NET_QOS NET_ESTIMATOR
	yconfig DCB

	# bluetooth
	mconfig BT BT_BREDR BT_RFCOMM BT_RFCOMM_TTY BT_HIDP BT_INTEL BT_BCM BT_RTL BT_HCIBTUSB BT_HCIBTSDIO \
		BT_HCIBCM203X BT_HCIBFUSB BT_HCIUART BT_HCIBCM203X BT_HCIBPA10X BT_HCIBFUSB BT_MRVL BT_MRVL_SDIO BT_ATH3K \
		BT_HCIDTL1 BT_HCIBT3C BT_MTKSDIO
	yconfig BT_HCIUART_H4 BT_HCIUART_BCSP BT_HCIUART_ATH3K BT_HCIUART_LL BT_HCIUART_3WIRE BT_HCIUART_INTEL \
		BT_HCIUART_BCM BT_HCIUART_QCA BT_HCIUART_AG6XX BT_HCIUART_MRVL BT_HCIBTUSB_BCM BT_HCIBTUSB_RTL \
		BT_HS BT_LE BT_LEDS

	nconfig BT_HCIVHCI BT_SELFTEST BT_DEBUGFS BT_BNEP

	# sound drivers
	yconfig SOUND SND SND_TIMER SND_PCM_TIMER SND_HRTIMER SND_DYNAMIC_MINOR SND_VERBOSE_PROCFS SND_DMA_SGBUF SND_SOC_SOF_TOPLEVEL \
		SND_SOC_INTEL_SST_TOPLEVEL SND_SOC_IMG
	nconfig SOUND_OSS_CORE SND_SUPPORT_OLD_API
	mconfig SND_ALOOP SND_VIRMIDI SND_MTPAV SND_MTS64 SND_SERIAL_U16550 SND_MPU401 SND_PORTMAN2X4 \
		SND_AC97_POWER_SAVE SND_SB_COMMON SND_PCI SND_AD1889 SND_ALS300 SND_ALS4000 SND_ALI5451 SND_ASIHPI SND_ATIIXP \
		SND_ATIIXP_MODEM SND_AU8810 SND_AU8820 SND_AU8830 SND_AW2 SND_AZT3328 SND_BT87X SND_CA0106 SND_CMIPCI SND_OXYGEN_LIB \
		SND_OXYGEN SND_CS4281 SND_CS46XX SND_CS46XX_NEW_DSP SND_CTXFI SND_DARLA20 SND_GINA20 SND_LAYLA20 SND_DARLA24 \
		SND_GINA24 SND_LAYLA24 SND_MONA SND_MIA SND_ECHO3G SND_INDIGO SND_INDIGOIO SND_INDIGODJ SND_INDIGOIOX \
		SND_INDIGODJX SND_EMU10K1 SND_EMU10K1_SEQ SND_EMU10K1X SND_ENS1370 SND_ENS1371 SND_ES1938 SND_ES1968 \
		SND_ES1968_INPUT SND_ES1968_RADIO SND_FM801 SND_FM801_TEA575X_BOOL SND_HDSP SND_HDSPM SND_ICE1712 SND_ICE1724 \
		SND_INTEL8X0 SND_INTEL8X0M SND_KORG1212 SND_LOLA SND_LX6464ES SND_MAESTRO3 SND_MAESTRO3_INPUT SND_MIXART \
		SND_NM256 SND_PCXHR SND_RIPTIDE SND_RME32 SND_RME96 SND_RME9652 SND_SONICVIBES SND_TRIDENT SND_VIA82XX \
		SND_VIA82XX_MODEM SND_VIRTUOSO SND_VX222 SND_YMFPCI SND_I2S_HI6210_I2S SND_SOC_INTEL_HASWELL SND_SST_ATOM_HIFI2_PLATFORM_PCI \
		SND_SST_ATOM_HIFI2_PLATFORM_ACPI SND_SOC_INTEL_SKYLAKE SND_SOC_INTEL_SKL SND_SOC_INTEL_APL SND_SOC_INTEL_KBL SND_SOC_INTEL_GLK \
		SND_SOC_INTEL_CNL SND_SOC_INTEL_CFL SND_SOC_INTEL_CML_H SND_SOC_INTEL_CML_LP SND_SOC_MTK_BTCVSD SND_SOC_XILINX_I2S \
		SND_SOC_XILINX_AUDIO_FORMATTER SND_SOC_XILINX_SPDIF SND_SOC_XTFPGA_I2S ZX_TDM

	# hd-audio drivers
	mconfig SND_HDA SND_HDA_INTEL SND_HDA_HWDEP SND_HDA_RECONFIG SND_HDA_INPUT_BEEP SND_HDA_PATCH_LOADER \
		SND_HDA_CODEC_REALTEK _SND_HDA_CODEC_ANALOG SND_HDA_CODEC_SIGMATEL SND_HDA_CODEC_VIA SND_HDA_CODEC_HDMI \
		SND_HDA_CODEC_CIRRUS ND_HDA_CODEC_CONEXANT SND_HDA_CODEC_CA0110 SND_HDA_CODEC_CA0132 SND_HDA_CODEC_CA0132_DSP \
		SND_HDA_CODEC_CMEDIA SND_HDA_CODEC_SI3054 SND_HDA_GENERIC SND_HDA_CORE SND_HDA_DSP_LOADER SND_HDA_I915 \
		SND_HDA_EXT_COR SND_SPI SND_USB SND_USB_AUDIO SND_USB_UA101 SND_USB_USX2Y SND_USB_CAIAQ SND_USB_CAIAQ_INPUT \
		SND_USB_US122L SND_USB_6FIRE SND_USB_HIFACE SND_BCD2000 SND_USB_LINE6 SND_USB_POD SND_USB_PODHD SND_USB_TONEPORT \
		SND_USB_VARIAX SND_FIREWIRE SND_FIREWIRE_LIB SND_DICE SND_OXFW SND_ISIGHT SND_FIREWORKS SND_BEBOB SND_FIREWIRE_DIGI00X \
		SND_FIREWIRE_TASCAM SND_FIREWIRE_MOTU SND_FIREFACE _SND_PCMCIA SND_VXPOCKET SND_PDAUDIOCF SND_SOC SND_SOC_AC97_BUS \
		SND_SOC_GENERIC_DMAENGINE_PCM SND_SOC_COMPRESS SND_SOC_TOPOLOGY SND_SOC_ACPI SND_SOC_AMD_ACP SND_SOC_AMD_CZ_DA7219MX98357_MACH \
		SND_SOC_AMD_CZ_RT5645_MACH SND_ATMEL_SOC SND_DESIGNWARE_I2S SND_DESIGNWARE_PCM SND_HDA_CODEC_CONEXANT SND_HDA_CODEC_ANALOG
	yconfig SND_HDA_INTEL_DETECT_DMIC

	# codec drivers
	mconfig SND_SOC_AC97_CODEC SND_SOC_ADAU_UTILS SND_SOC_ADAU1701 SND_SOC_ADAU17X1 SND_SOC_ADAU1761 SND_SOC_ADAU1761_I2C SND_SOC_ADAU1761_SPI \
		SND_SOC_ADAU7002 SND_SOC_AK4104 SND_SOC_AK4458 SND_SOC_AK4554 SND_SOC_AK4613 _SND_SOC_AK4642 SND_SOC_AK5386 SND_SOC_AK5558 SND_SOC_ALC5623 \
		SND_SOC_BD28623 SND_SOC_CPCAP SND_SOC_CS35L32 SND_SOC_CS35L33 SND_SOC_CS35L34 SND_SOC_CS35L35 SND_SOC_CS42L42 \
		SND_SOC_CS42L51 SND_SOC_CS42L51_I2C SND_SOC_CS42L52 SND_SOC_CS42L56 SND_SOC_CS42L73 SND_SOC_CS4265 SND_SOC_CS4270 \
		SND_SOC_CS4271 SND_SOC_CS4271_I2C SND_SOC_CS4271_SPI SND_SOC_CS42XX8 SND_SOC_CS42XX8_I2C SND_SOC_CS43130 SND_SOC_CS4349 \
		SND_SOC_CS53L30 SND_SOC_DA7213 SND_SOC_DA7219 SND_SOC_DIO2125 SND_SOC_DMIC SND_SOC_HDMI_CODEC SND_SOC_ES7134 SND_SOC_ES8316 \
		SND_SOC_ES8328 SND_SOC_ES8328_I2C SND_SOC_ES8328_SPI SND_SOC_GTM601 SND_SOC_HDAC_HDMI SND_SOC_INNO_RK3036 SND_SOC_MAX98090 \
		SND_SOC_MAX98357A SND_SOC_MAX98504 SND_SOC_MAX9867 SND_SOC_MAX98927 SND_SOC_MAX98373 SND_SOC_MAX9860 SND_SOC_MSM8916_WCD_ANALOG \
		SND_SOC_MSM8916_WCD_DIGITAL SND_SOC_PCM1681 SND_SOC_PCM1789 SND_SOC_PCM1789_I2C SND_SOC_PCM179X SND_SOC_PCM179X_I2C \
		SND_SOC_PCM179X_SPI SND_SOC_PCM186X SND_SOC_PCM186X_I2C SND_SOC_PCM186X_SPI SND_SOC_PCM3168A SND_SOC_PCM3168A_I2C \
		SND_SOC_PCM3168A_SPI SND_SOC_PCM512x SND_SOC_PCM512x_I2C SND_SOC_PCM512x_SPI SND_SOC_RL6231 SND_SOC_RL6347A \
		SND_SOC_RT286 SND_SOC_RT298 SND_SOC_RT5514 SND_SOC_RT5514_SPI SND_SOC_RT5616 SND_SOC_RT5631 SND_SOC_RT5640 \
		SND_SOC_RT5645 SND_SOC_RT5651 SND_SOC_RT5663 SND_SOC_RT5670 SND_SOC_RT5677 SND_SOC_RT5677_SPI SND_SOC_SGTL5000 \
		SND_SOC_SI476X SND_SOC_SIGMADSP SND_SOC_SIGMADSP_I2C SND_SOC_SIGMADSP_REGMAP SND_SOC_SIRF_AUDIO_CODEC SND_SOC_SPDIF \
		SND_SOC_SSM2602 SND_SOC_SSM2602_SPI SND_SOC_SSM2602_I2C SND_SOC_SSM4567 SND_SOC_STA32X SND_SOC_STA350 SND_SOC_STI_SAS \
		SND_SOC_TAS2552 SND_SOC_TAS5086 SND_SOC_TAS571X SND_SOC_TAS5720 SND_SOC_TAS6424 SND_SOC_TDA7419 SND_SOC_TFA9879 \
		SND_SOC_TLV320AIC23 SND_SOC_TLV320AIC23_I2C SND_SOC_TLV320AIC23_SPI SND_SOC_TLV320AIC31XX SND_SOC_TLV320AIC32X4 \
		SND_SOC_TLV320AIC32X4_I2C SND_SOC_TLV320AIC32X4_SPI SND_SOC_TLV320AIC3X SND_SOC_TS3A227E SND_SOC_TSCS42XX \
		SND_SOC_WM8510 SND_SOC_WM8523 SND_SOC_WM8524 SND_SOC_WM8580 SND_SOC_WM8711 SND_SOC_WM8728 SND_SOC_WM8731 \
		SND_SOC_WM8737 SND_SOC_WM8741 SND_SOC_WM8750 SND_SOC_WM8753 SND_SOC_WM8770 SND_SOC_WM8776 SND_SOC_WM8804 \
		SND_SOC_WM8804_I2C SND_SOC_WM8804_SPI SND_SOC_WM8903 SND_SOC_WM8960 SND_SOC_WM8962 SND_SOC_WM8974 \
		SND_SOC_WM8978 SND_SOC_WM8985 SND_SOC_ZX_AUD96P22 SND_SOC_MAX9759 SND_SOC_NAU8540 SND_SOC_NAU8810 \
		SND_SOC_NAU8824 SND_SOC_NAU8825 SND_SOC_TPA6130A2 SND_SIMPLE_CARD_UTILS SND_SIMPLE_CARD \
		SND_SIMPLE_SCU_CARD SND_AUDIO_GRAPH_CARD SND_AUDIO_GRAPH_SCU_CARD HDMI_LPE_AUDIO SND_SYNTH_EMUX AC97_BUS \
		SND_SOC_NAU8822 SND_SOC_MT6351 SND_SOC_MT6358 SND_SOC_WM8904 SND_SOC_WM8782 SND_SOC_TSCS454 SND_SOC_SSM2305 \
		SND_SOC_SIMPLE_AMPLIFIER SND_SOC_PCM512x_I2C SND_SOC_RK3328 SND_SOC_PCM3060_I2C SND_SOC_MAX98088 SND_SOC_ES7241 \
		SND_SOC_CS4341 SND_SOC_CS35L36 SND_SOC_BT_SCO SND_SOC_AK4642 SND_SOC_AK4118 SND_SOC_CX2072X SND_SOC_SOF SND_SOC_SOF_INTEL_ACPI \
		SND_SOC_SOF_INTEL_PCI SND_SOC_SOF_INTEL_HIFI_EP_IPC SND_SOC_SOF_INTEL_ATOM_HIFI_EP SND_SOC_SOF_INTEL_COMMON SND_SOC_SOF_BAYTRAIL \
		SND_SOC_SOF_BROADWELL SND_SOC_SOF_MERRIFIELD SND_SOC_SOF_APOLLOLAKE SND_SOC_SOF_GEMINILAKE SND_SOC_SOF_CANNONLAKE SND_SOC_SOF_COFFEELAKE \
		SND_SOC_SOF_ICELAKE SND_SOC_SOF_COMETLAKE_LP SND_SOC_SOF_COMETLAKE_H SND_SOC_SOF_TIGERLAKE SND_SOC_SOF_ELKHARTLAKE SND_SOC_SOF_HDA_COMMON
	yconfig SND_SOC_SOF_HDA_LINK SND_SOC_SOF_HDA_AUDIO_CODEC SND_SOC_SOF_ELKHARTLAKE_SUPPORT SND_SOC_SOF_COMETLAKE_H_SUPPORT SND_SOC_SOF_TIGERLAKE_SUPPORT \
		SND_SOC_SOF_COMETLAKE_LP_SUPPORT SND_SOC_SOF_ICELAKE_SUPPORT SND_SOC_SOF_COFFEELAKE_SUPPORT SND_SOC_SOF_CANNONLAKE_SUPPORT SND_SOC_SOF_GEMINILAKE_SUPPORT \
		SND_SOC_SOF_APOLLOLAKE_SUPPORT SND_SOC_SOF_MERRIFIELD_SUPPORT SND_SOC_SOF_BROADWELL_SUPPORT SND_SOC_SOF_BAYTRAIL_SUPPORT SND_SOC_SOF_PROBE_WORK_QUEUE SND_SOC_SOF_INTEL_TOPLEVEL

	# usb
	yconfig USB_STORAGE USB_UAS USB_SUPPORT USB_COMMON USB_ARCH_HAS_HCD USB USB_ANNOUNCE_NEW_DEVICES \
		USB_C67X00_HCD USB_XHCI_HCD USB_XHCI_DBGCAP USB_XHCI_PCI USB_XHCI_PLATFORM USB_EHCI_HCD USB_EHCI_ROOT_HUB_TT \
		USB_EHCI_TT_NEWSCHED USB_EHCI_PCI USB_EHCI_HCD_PLATFORM USB_OXU210HP_HCD USB_ISP116X_HCD USB_FOTG210_HCD USB_OHCI_HCD \
		USB_OHCI_HCD_PCI USB_OHCI_HCD_SSB USB_OHCI_HCD_PLATFORM USB_UHCI_HCD USB_U132_HCD USB_SL811_HCD USB_SL811_CS USB_R8A66597_HCD \
		USB_WHCI_HCD USB_HWA_HCD USB_HCD_SSB USB_DWCOTG USB_PHY USB_MXS_PHY AMLOGIC_USB USB_DWC_OTG_HCD \
		USB_HOST_ELECT_TEST USB_DEFAULT_PERSIST UCSI MFD_RTSX_USB MMC_REALTEK_USB MEMSTICK_REALTEK_USB USB_MASS_STORAGE \
		U_SERIAL_CONSOLE USB_GADGET MEDIA_USB_SUPPORT INTEL_ISH_HID USB_OHCI_LITTLE_ENDIAN USB_SUPPORT USB_COMMON \
		USB_ARCH_HAS_HCD USB_PCI USB_DEFAULT_PERSIST USB_OTG USB_LEDS_TRIGGER_USBPORT USB_MON USB_WUSB USB_WUSB_CBAF \
		USB_CDNS3 USB_CDNS3_PCI_WRAP USB_CDNS3_GADGET USB_CDNS3_HOST
	mconfig USB_G_SERIAL USB_PRINTER
	nconfig USB_ACM USB_MON USB_HCD_TEST_MODE USB_HCD_BCMA USB_SL811_HCD_ISO USB_WUSB_CBAF_DEBUG \
		USB_OTG_WHITELIST USB_OTG_BLACKLIST_HUB USB_OTG_FSM USB_DYNAMIC_MINORS

	# usb storage drivers
	yconfig USB_STORAGE_REALTEK REALTEK_AUTOPM _USB_STORAGE_DATAFAB USB_STORAGE_FREECOM USB_STORAGE_ISD200 \
		USB_STORAGE_USBAT USB_STORAGE_SDDR09 USB_STORAGE_SDDR55 USB_STORAGE_JUMPSHOT USB_STORAGE_ALAUDA \
		USB_STORAGE_ONETOUCH USB_STORAGE_KARMA USB_STORAGE_CYPRESS_ATACB USB_STORAGE_ENE_UB6250 USB_UA

	# usb serial drivers
	mconfig USB_USS720 USB_SERIAL USB_SERIAL_GENERIC USB_SERIAL_SIMPLE USB_SERIAL_AIRCABLE USB_SERIAL_ARK3116 USB_SERIAL_BELKIN \
		USB_SERIAL_CH341 USB_SERIAL_WHITEHEAT USB_SERIAL_DIGI_ACCELEPORT USB_SERIAL_CP210X USB_SERIAL_CYPRESS_M8 \
		USB_SERIAL_EMPEG USB_SERIAL_FTDI_SIO USB_SERIAL_VISOR USB_SERIAL_IPAQ USB_SERIAL_IR USB_SERIAL_EDGEPORT \
		USB_SERIAL_EDGEPORT_TI USB_SERIAL_F81232 USB_SERIAL_F8153X USB_SERIAL_GARMIN USB_SERIAL_IPW USB_SERIAL_IUU \
		USB_SERIAL_KEYSPAN_PDA USB_SERIAL_KEYSPAN USB_SERIAL_KLSI USB_SERIAL_KOBIL_SCT USB_SERIAL_MCT_U232 \
		USB_SERIAL_METRO USB_SERIAL_MOS7720 USB_SERIAL_MOS7715_PARPORT USB_SERIAL_MOS7840 USB_SERIAL_MXUPORT \
		USB_SERIAL_NAVMAN USB_SERIAL_PL2303 USB_SERIAL_OTI6858 USB_SERIAL_QCAUX USB_SERIAL_QUALCOMM \
		USB_SERIAL_SPCP8X5 USB_SERIAL_SAFE USB_SERIAL_SIERRAWIRELESS USB_SERIAL_SYMBO USB_SERIAL_TI \
		USB_SERIAL_CYBERJACK USB_SERIAL_XIRCOM USB_SERIAL_WWAN USB_SERIAL_OPTION USB_SERIAL_OMNINET \
		USB_SERIAL_OPTICON USB_SERIAL_XSENS_MT USB_SERIAL_WISHBONE USB_SERIAL_SSU100 USB_SERIAL_QT2 \
		USB_SERIAL_UPD78F0730 USB_SERIAL_DEBUG

	# usb misc
	mconfig USB_EMI62 USB_EMI26 USB_ADUTUX USB_SEVSEG USB_RIO500 _USB_LEGOTOWER USB_LCD USB_CYPRESS_CY7C63 USB_CYTHERM USB_IDMOUSE \
		USB_FTDI_ELAN USB_APPLEDISPLAY USB_SISUSBVGA USB_SISUSBVGA_CON USB_LD USB_TRANCEVIBRATOR USB_IOWARRIOR USB_TEST \
		USB_EHSET_TEST_FIXTURE USB_ISIGHTFW USB_YUREX USB_EZUSB_FX2 USB_HUB_USB251XB USB_HSIC_USB3503 USB_HSIC_USB4604 \
		USB_LINK_LAYER_TEST USB_CHAOSKEY USB_ATM USB_SPEEDTOUCH USB_CXACRU USB_UEAGLEATM USB_XUSBATM \
		SB_GR_UDC USB_R8A66597 USB_PXA27X USB_MV_UDC USB_MV_U3D USB_SNP_CORE USB_SNP_UDC_PLAT USB_M66592 \
		USB_BDC_UDC USB_BDC_PCI USB_AMD5536UDC USB_NET2272 USB_NET2272_DMA USB_NET2280 USB_GOKU \
		USB_EG20T USB_GADGET_XILINX USB_DUMMY_HCD USB_LIBCOMPOSITE USB_F_ACM USB_F_SS_LB \
		USB_U_SERIAL USB_U_ETHER USB_U_AUDIO USB_F_SERIAL USB_F_OBEX USB_F_NCM USB_F_ECM \
		USB_F_PHONET USB_F_EEM USB_F_SUBSET USB_F_RNDIS USB_F_MASS_STORAGE USB_F_FS \
		USB_F_UAC1 USB_F_UAC1_LEGACY USB_F_UAC2 USB_F_UVC USB_F_MIDI USB_F_HID USB_F_PRINTER \
		USB_F_TCM USB_CONFIGFS USB_ZERO USB_AUDIO USB_ETH USB_ETH_RNDIS USB_ETH_EEM \
		USB_G_NCM USB_GADGETFS USB_FUNCTIONFS USB_FUNCTIONFS_ETH USB_FUNCTIONFS_RNDIS \
		USB_FUNCTIONFS_GENERIC USB_MASS_STORAGE USB_GADGET_TARGET USB_G_SERIAL \
		USB_MIDI_GADGET USB_G_PRINTER USB_CDC_COMPOSITE USB_G_NOKIA USB_G_ACM_MS USB_G_MULTI \
		USB_G_MULTI_RNDIS USB_G_MULTI_CDC USB_G_HID USB_G_DBGP USB_G_DBGP_SERIAL \
		USB_G_WEBCAM UCSI_CCG UCSI_ACPI TYPEC_TPS6598X TYPEC_DP_ALTMODE USB_ROLE_SWITCH \
		USB_ROLES_INTEL_XHCI USB_LED_TRIG USB_ULPI_BUS UWB UWB_HWA UWB_WHCI UWB_I1480U PWRSEQ_EMMC PWRSEQ_SD8787 PWRSEQ_SIMPLE \
		USB_MDC800 USB_MICROTEK _USBIP_CORE USB_MUSB_HDRC USB_DWC3 USB_DWC2 USB_CHIPIDEA USB_ISP1760
	yconfig USB_CONFIGFS_SERIAL USB_CONFIGFS_ACM USB_CONFIGFS_OBEX USB_CONFIGFS_NCM USB_CONFIGFS_ECM \
		USB_CONFIGFS_ECM_SUBSET USB_CONFIGFS_RNDIS USB_CONFIGFS_EEM USB_CONFIGFS_PHONET USB_CONFIGFS_MASS_STORAGE \
		USB_CONFIGFS_F_LB_SS USB_CONFIGFS_F_FS USB_CONFIGFS_F_UAC1 USB_CONFIGFS_F_UAC1_LEGACY USB_CONFIGFS_F_UAC2 \
		USB_CONFIGFS_F_MIDI USB_CONFIGFS_F_HID USB_CONFIGFS_F_UVC USB_CONFIGFS_F_PRINTER USB_CONFIGFS_F_TCM \
		TYPEC TYPEC_TCPM TYPEC_TCPCI TYPEC_RT1711H TYPEC_FUSB302 TYPEC_WCOVE TYPEC_UCSI SDIO_UART
	nconfig USB_G_DBGP_PRINTK GADGET_UAC1 USBIP_DEBUG

	# frambefuffer
	mconfig BACKLIGHT_LCD_SUPPORT LCD_CLASS_DEVIC LCD_L4F00242T03 LCD_LMS283GF05 LCD_LTV350QV \
		LCD_ILI922X LCD_ILI9320 LCD_TDO24M LCD_VGG2432A4 LCD_PLATFORM LCD_S6E63M0 LCD_LD9040 LCD_AMS369FG06 \
		LCD_LMS501KF03 LCD_HX8357 BACKLIGHT_CLASS_DEVICE BACKLIGHT_GENERIC BACKLIGHT_LM3533 BACKLIGHT_PWM \
		BACKLIGHT_DA903X BACKLIGHT_DA9052 BACKLIGHT_MAX8925 BACKLIGHT_APPLE BACKLIGHT_PM8941_WLED BACKLIGHT_SAHARA \
		BACKLIGHT_WM831X BACKLIGHT_ADP5520 BACKLIGHT_ADP8860 BACKLIGHT_ADP8870 BACKLIGHT_88PM860X BACKLIGHT_PCF50633 \
		BACKLIGHT_AAT2870 BACKLIGHT_LM3630A BACKLIGHT_LM3639 BACKLIGHT_LP855X BACKLIGHT_LP8788 BACKLIGHT_PANDORA \
		BACKLIGHT_SKY81452 BACKLIGHT_TPS65217 BACKLIGHT_AS3711 BACKLIGHT_GPIO BACKLIGHT_LV5207LP BACKLIGHT_BD6107 \
		BACKLIGHT_ARCXCNN VIDEOMODE_HELPERS FIRMWARE_EDID FB_CMDLINE FB_NOTIFY FB_CFB_FILLRECT FB_CFB_COPYAREA \
		FB_CFB_IMAGEBLIT FB_SYS_FILLRECT FB_SYS_COPYAREA FB_SYS_IMAGEBLIT FB_SYS_FOPS FB_DEFERRED_IO FB_BACKLIGHT \
		FB_MODE_HELPERS FB_TILEBLITTING

	# gpu drivers
	mconfig DRM_RADEON DRM_AMDGPU DRM_NOUVEAU DRM_VMWGFX \
		DRM_I915 DRM_I915_ALPHA_SUPPORT DRM_I915_CAPTURE_ERROR DRM_I915_COMPRESS_ERROR DRM_I915_USERPTR DRM_I915_GVT DRM_I915_GVT_KVMGT \
		VIRTIO_GPU DRM_QLX DRM_GMA500 DRM_GMA600 DRM_GMA3600 DRM_CIRRUS_QEMU DRM_I915_PRELIMINARY_HW_SUPPORT DRM_FBDEV_EMULATION R6040 \
		DRM_R128 DRM_MGA DRM_SIS DRM_SAVAG DRM_SAVAGE TEGRA_HOST1X IMX_IPUV3_CORE DRM_SCHED DRM_ETNAVIV DRM_UDL DRM_AST DRM_MGAG200 \
		DRM_QXL DRM_BOCHS DRM_HISI_HIBMC DRM_VBOXVIDEO DRM_VIRTIO_GPU
	yconfig TEGRA_HOST1X_FIREWALL DRM_ETNAVIV_THERMAL DRM_AMDGPU_SI DRM_AMDGPU_CIK DRM_NOUVEAU_BACKLIGHT DRM_VMWGFX_FBCON

	# display panel drivers
	mconfig DRM_PANEL_ARM_VERSATILE DRM_PANEL_LVDS DRM_PANEL_SIMPLE DRM_PANEL_ILITEK_IL9322 DRM_PANEL_INNOLUX_P079ZCA \
		DRM_PANEL_JDI_LT070ME05000 DRM_PANEL_SAMSUNG_LD9040 DRM_PANEL_LG_LG4573 DRM_PANEL_ORISETECH_OTM8009A \
		DRM_PANEL_PANASONIC_VVX10F034N00 DRM_PANEL_RASPBERRYPI_TOUCHSCREEN DRM_PANEL_RAYDIUM_RM68200 \
		DRM_PANEL_SAMSUNG_S6E3HA2 DRM_PANEL_SAMSUNG_S6E63J0X03 DRM_PANEL_SAMSUNG_S6E8AA0 DRM_PANEL_SEIKO_43WVF1G \
		DRM_PANEL_SHARP_LQ101R1SX01 DRM_PANEL_SHARP_LS043T1LE01 DRM_PANEL_SITRONIX_ST7789V DRM_BRIDGE DRM_PANEL_BRIDGE \
		DRM_PANEL_SONY_ACX565AKM DRM_PANEL_TPO_TD028TTEC1 DRM_PANEL_TPO_TD043MTEA1 DRM_PANEL_SHARP_LS037V7DW01 DRM_PANEL_RAYDIUM_RM67191 DRM_PANEL_LG_LB035Q02 DRM_PANEL_NEC_NL8048HL11

	# webcam drivers
	mconfig USB_VIDEO_CLASS USB_VIDEO_CLASS_INPUT_EVDEV USB_GSPCA USB_M5602 USB_STV06XX USB_GL860 \
		USB_GSPCA_BENQ USB_GSPCA_CONEX USB_GSPCA_CPIA1 USB_GSPCA_DTCS033 USB_GSPCA_ETOMS USB_GSPCA_FINEPIX \
		USB_GSPCA_JEILINJ USB_GSPCA_JL2005BCD USB_GSPCA_KINECT USB_GSPCA_KONICA USB_GSPCA_MARS USB_GSPCA_MR97310A \
		USB_GSPCA_NW80X USB_GSPCA_OV519 USB_GSPCA_OV534 USB_GSPCA_OV534_9 USB_GSPCA_PAC207 USB_GSPCA_PAC7302 \
		USB_GSPCA_PAC7311 USB_GSPCA_SE401 USB_GSPCA_SN9C2028 USB_GSPCA_SN9C20X USB_GSPCA_SONIXB USB_GSPCA_SONIXJ \
		USB_GSPCA_SPCA500 USB_GSPCA_SPCA501 USB_GSPCA_SPCA505 USB_GSPCA_SPCA506 USB_GSPCA_SPCA508 USB_GSPCA_SPCA561 \
		USB_GSPCA_SPCA1528 USB_GSPCA_SQ905 USB_GSPCA_SQ905C USB_GSPCA_SQ930X USB_GSPCA_STK014 USB_GSPCA_STK1135 \
		USB_GSPCA_STV0680 USB_GSPCA_SUNPLUS USB_GSPCA_T613 USB_GSPCA_TOPRO USB_GSPCA_TOUPTEK USB_GSPCA_TV8532 \
		USB_GSPCA_VC032X USB_GSPCA_VICAM USB_GSPCA_XIRLINK_CIT USB_GSPCA_ZC3XX USB_PWC USB_PWC_INPUT_EVDEV \
		VIDEO_CPIA2 USB_ZR364XX USB_STKWEBCAM USB_S2255 VIDEO_USBTV

	# chargers
	yconfig W1 POWER_AVS POWER_RESET PDA_POWER
	mconfig CHARGER_ADP5061 BATTERY_DS2780 BATTERY_DS2781 BATTERY_DS2782 \
		BATTERY_SBS CHARGER_SBS BATTERY_BQ27XXX BATTERY_MAX17040 BATTERY_MAX17042 \
		CHARGER_MAX8903 CHARGER_LP8727 CHARGER_GPIO CHARGER_MANAGER CHARGER_LTC365 \
		CHARGER_BQ2415X CHARGER_BQ24257 CHARGER_BQ24735 CHARGER_BQ25890 CHARGER_SMB347 BATTERY_GAUGE_LTC2941 CHARGER_RT9455

	# sensors
	mconfig SENSORS_ATK0110 SENSORS_ABITUGURU SENSORS_ABITUGURU3 SENSORS_AD7414 SENSORS_AD7418 \
		SENSORS_ADM1021 SENSORS_ADM1025 SENSORS_ADM1026 SENSORS_ADM1029 SENSORS_ADM1031 \
		SENSORS_ADM9240 SENSORS_ADS7828 SENSORS_ADT7462 SENSORS_ADT7470 SENSORS_ADT7473 \
		SENSORS_ADT7475 SENSORS_APPLESMC SENSORS_ASB100 SENSORS_ATXP1 SENSORS_CORETEMP \
		SENSORS_DME1737 SENSORS_DS1621 SENSORS_DS1337 SENSORS_DS1374 SENSORS_FSCHER \
		SENSORS_FSCPOS SENSORS_F71805F SENSORS_F71882FG SENSORS_F75375S SENSORS_FSCHMD \
		SENSORS_G760A SENSORS_GL518SM SENSORS_GL520SM SENSORS_HDAPS SENSORS_IBMAEM SENSORS_IBMPEX \
		SENSORS_IT87 SENSORS_K8TEMP SENSORS_LIS3LV02D SENSORS_LM63 SENSORS_LM75 SENSORS_LM77 \
		SENSORS_LM78 SENSORS_LM80 SENSORS_LM83 SENSORS_LM85 SENSORS_LM87 SENSORS_LM90 \
		SENSORS_LM92 SENSORS_LM93 SENSORS_LTC4245 SENSORS_MAX1619 SENSORS_MAX6650 \
		SENSORS_MAX6875 SENSORS_PC87360 SENSORS_PC87427 SENSORS_PCA9539 SENSORS_PCF8574 \
		SENSORS_PCF8591 SENSORS_SHT15 SENSORS_SIS5595 SENSORS_SMSC47M1 SENSORS_SMSC47M192 \
		SENSORS_SMSC47B397 SENSORS_THMC50 SENSORS_TMP401 SENSORS_TSL2550 \
		SENSORS_VIA686A SENSORS_VIA_CPUTEMP SENSORS_VT1211 SENSORS_VT8231 SENSORS_W83627HF \
		SENSORS_W83781D SENSORS_W83L785TS SENSORS_W83L786NG SENSORS_W83627EHF SENSORS_W83791D \
		SENSORS_W83792D SENSORS_W83793 SENSORS_LTC4215 SENSORS_LM95241 SENSORS_TMP421 SENSORS_WM8350 SENSORS_WM831X
	nconfig SENSORS_I5K_AMBDS1682

	# rtc
	yconfig DMADEVICES RTC_DRV_DS1685 RTC_DRV_RV3029_HWMON RTC_DRV_CMOS RTC_DRV_DS3232_HWMON RTC_DRV_M41T80_WDT RTC_DRV_DS1374_WDT \
		RTC_LIB RTC_MC146818_LIB RTC_CLASS RTC_NVMEM RTC_INTF_SYSFS RTC_INTF_PROC RTC_INTF_DEV RTC_INTF_DEV_UIE_EMUL
	mconfig RTC_DRV_TEST RTC_DRV_ABB5ZES3 RTC_DRV_ABX80X RTC_DRV_DS1307 RTC_DRV_DS1374 RTC_DRV_DS1672 RTC_DRV_MAX6900 RTC_DRV_RS5C372 \
		RTC_DRV_ISL1208 RTC_DRV_ISL12022 RTC_DRV_X1205 RTC_DRV_PCF8523 RTC_DRV_PCF85063 RTC_DRV_PCF85363 RTC_DRV_PCF8563 RTC_DRV_PCF8583 \
		RTC_DRV_M41T80 RTC_DRV_BQ32K RTC_DRV_S35390A RTC_DRV_FM3130 RTC_DRV_RX8010 RTC_DRV_RX8581 RTC_DRV_RX8025 RTC_DRV_EM3027 \
		RTC_DRV_RV8803 RTC_I2C_AND_SPI RTC_DRV_DS3232 RTC_DRV_PCF2127 RTC_DRV_RV3029C2 RTC_DRV_DS1286 RTC_DRV_DS1511 RTC_DRV_DS1553 \
		RTC_DRV_DS1685_FAMILY RTC_DRV_DS1742 RTC_DRV_DS2404 RTC_DRV_STK17TA8 RTC_DRV_M48T86 RTC_DRV_M48T35 RTC_DRV_M48T59 RTC_DRV_MSM6242 \
		RTC_DRV_BQ4802 RTC_DRV_RP5C01 RTC_DRV_V3020 RTC_DRV_PCF50633 RTC_DRV_CROS_EC RTC_DRV_MC13XXX RTC_DRV_MT6397 RTC_DRV_HID_SENSOR_TIME
	nconfig DMADEVICES_DEBUG RTC_DRV_FTRTC010 RTC_DRV_DS1689 RTC_DRV_DS17285 RTC_DRV_DS17485 RTC_DRV_DS17885 RTC_DS1685_PROC_REGS RTC_DRV_DS1307_CENTURY RTC_HCTOSYS RTC_SYSTOHC RTC_DEBUG

	# misc
	mconfig AD525X_DPOT PHANTOM SGI_IOC4 ICS932S401 ENCLOSURE_SERVICES APDS9802ALS ISL29003 ISL29020 SENSORS_BH1770 SENSORS_APDS990X HMC6352 DS1682 \
		XILINX_SDFEC PVPANIC CB710_CORE ALTERA_STAPL ECHO MISC_ALCOR_PCI MISC_RTSX_PCI MISC_RTSX_USB HABANA_AI
	yconfig VMWARE_VMCI SRAM
	nconfig INTEL_MEI_HDCP INTEL_MEI_TXE INTEL_MEI_ME INTEL_MEI CB710_DEBUG

	# virtio
	yconfig PARAVIRT_GUEST VIRTIO_PCI VIRTIO_BALLOON VIRTIO_MMIO VIRTIO_BLK SCSI_VIRTIO VIRTIO_INPUT VIRTIO_CONSOLE

	# fixes
	yconfig IP_MROUTE IPV6_ROUTER_PREF IPV6_OPTIMISTIC_DAD IPV6_MULTIPLE_TABLES IPV6_MROUTE XPS LOGITECH_FF \
		LOGIRUMBLEPAD2_FF LOGIG940_FF LOGIWHEELS_FF PANTHERLORD_FF SONY_FF IP_VS_PROTO_TCP IP_VS_PROTO_UDP \
		L2TP_V3 IP_VS_PROTO_ESP IP_VS_PROTO_AH IPV6_ROUTE_INFO IPV6_PIMSM_V2 HID_ACRUX_FF DRAGONRISE_FF \
		HOLTEK_FF HID_PICOLCD_BACKLIGHT HID_PICOLCD_LCD HID_PICOLCD_LEDS HID_PICOLCD_CIR GREENASIA_FF SMARTJOYPLUS_FF ZEROPLUS_FF \
		NET_SCHED FB_CMDLINE FB_NOTIFY FIRMWARE_EDID FB_DEFERRED_IO FB_MODE_HELPERS FB_TILEBLITTING BACKLIGHT_LCD_SUPPORT \
		INPUT_KXTJ9_POLLED_MODE TOUCHSCREEN_ATMEL_MXT_T37 TOUCHSCREEN_WM9705  TOUCHSCREEN_WM9712 TOUCHSCREEN_WM9713 TOUCHSCREEN_USB_EGALAX \
		TOUCHSCREEN_USB_PANJIT TOUCHSCREEN_USB_3M TOUCHSCREEN_USB_ITM TOUCHSCREEN_USB_ETURBO TOUCHSCREEN_USB_GUNZE TOUCHSCREEN_USB_DMC_TSC10 \
		TOUCHSCREEN_USB_IRTOUCH TOUCHSCREEN_USB_IDEALTEK TOUCHSCREEN_USB_GENERAL_TOUCH TOUCHSCREEN_USB_GOTOP TOUCHSCREEN_USB_JASTEC TOUCHSCREEN_USB_ELO \
		TOUCHSCREEN_USB_E2I TOUCHSCREEN_USB_ZYTRONIC TOUCHSCREEN_USB_ETT_TC45USB TOUCHSCREEN_USB_NEXIO  TOUCHSCREEN_USB_EASYTOUCH \
		TOUCHSCREEN_TSC2007_IIO JOYSTICK_IFORCE_USB JOYSTICK_IFORCE_232 JOYSTICK_XPAD_FF JOYSTICK_XPAD_LEDS JOYSTICK_PSXPAD_SPI_FF HOSTAP_FIRMWARE \
		HOSTAP_FIRMWARE_NVRAM NF_TABLES_IPV4 NF_TABLES_IPV6 NF_TABLES_BRIDGE NF_CT_PROTO_GRE NET_CLS NET_CLS_ACT NET_CLS_IND CLS_U32_MARK \
		CLS_U32_PERF NET_EMATCH GACT_PROB BT_BREDR BT_RFCOMM_TTY SND_AC97_POWER_SAVE SND_PCI SND_CS46XX_NEW_DSP SND_ES1968_INPUT SND_ES1968_RADIO \
		SND_FM801_TEA575X_BOOL SND_MAESTRO3_INPUT SND_HDA_HWDEP SND_HDA_RECONFIG SND_HDA_INPUT_BEEP SND_HDA_PATCH_LOADER SND_HDA_CODEC_CA0132_DSP \
		SND_HDA_DSP_LOADER SND_HDA_I915 SND_SPI SND_USB SND_USB_CAIAQ_INPUT SND_FIREWIRE SND_SOC_AC97_BUS SND_SOC_GENERIC_DMAENGINE_PCM \
		SND_SOC_COMPRESS SND_SOC_TOPOLOGY SND_DESIGNWARE_PCM USB_SERIAL_GENERIC USB_SERIAL_MOS7715_PARPORT USB_SISUSBVGA_CON USB_NET2272_DMA \
		USB_ETH_RNDIS USB_ETH_EEM USB_FUNCTIONFS_ETH USB_FUNCTIONFS_RNDIS USB_FUNCTIONFS_GENERIC USB_G_MULTI_RNDIS USB_G_MULTI_CDC \
		USB_G_DBGP_SERIAL USB_LED_TRIG VIDEOMODE_HELPERS DRM_NOUVEAU_BACKLIGHT DRM_VMWGFX_FBCON DRM_I915_CAPTURE_ERROR DRM_I915_COMPRESS_ERROR \
		DRM_I915_USERPTR DRM_I915_GVT DRM_GMA600 DRM_GMA3600 DRM_FBDEV_EMULATION DRM_BRIDGE DRM_PANEL_BRIDGE USB_VIDEO_CLASS_INPUT_EVDEV \
		USB_PWC_INPUT_EVDEV CHARGER_MANAGER DRM_I915_ALPHA_SUPPORT

	strconfig DEFAULT_HOSTNAME azusa
	strconfig LOCALVERSION -ataraxia
	strconfig UEVENT_HELPER_PATH ""
	strconfig NLS_DEFAULT "utf8"
	strconfig FAT_DEFAULT_IOCHARSET "ascii"
	strconfig DEFAULT_TCP_CONG "cubic"
	strconfig MAC80211_RC_DEFAULT "minstrel_ht"
	strconfig DEFAULT_SECURITY "apparmor"
	strconfig EXTRA_FIRMWARE_DIR "/lib/firmware"
	strconfig NFS_V4_1_IMPLEMENTATION_ID_DOMAIN "kernel.org"
	strconfig EXFAT_DEFAULT_IOCHARSET "utf8"
	varconfig MAC80211_STA_HASH_MAX_SIZE 0
	varconfig FAT_DEFAULT_CODEPAGE 437
	varconfig HZ 300
	varconfig BLK_DEV_LOOP_MIN_COUNT 0
	varconfig SND_HDA_PREALLOC_SIZE 2048
	varconfig MTDRAM_TOTAL_SIZE 4096
	varconfig MTDRAM_ERASE_SIZE 128
	varconfig MTD_NAND_DISKONCHIP_PROBE_ADDRESS 0
	varconfig SATA_MOBILE_LPM_POLICY 3
	varconfig SCSI_OSD_DPRINT_SENSE 1
	varconfig SCSI_SYM53C8XX_DMA_ADDRESSING_MODE 1
	varconfig SCSI_SYM53C8XX_DEFAULT_TAGS 16
	varconfig SCSI_SYM53C8XX_MAX_TAGS 64
	varconfig SCSI_MPT2SAS_MAX_SGE 128
	varconfig SCSI_MPT3SAS_MAX_SGE 128
	varconfig AIC79XX_CMDS_PER_DEVICE 4
	varconfig AIC79XX_RESET_DELAY_MS 15000
	varconfig AIC79XX_DEBUG_MASK 0
	varconfig AIC7XXX_CMDS_PER_DEVICE 4
	varconfig AIC7XXX_RESET_DELAY_MS 15000
	varconfig AIC7XXX_DEBUG_MASK 0
	varconfig FUSION_MAX_SGE 128
	varconfig WIMAX_I2400M_DEBUG_LEVEL 8
	varconfig DLCI_MAX 8
	varconfig HISAX_MAX_CARDS 8
	varconfig DE2104X_DSL 0
	varconfig PM_WAKELOCKS_LIMIT 0
	varconfig EXFAT_DEFAULT_CODEPAGE 437

	if [ "$USEBOOTSTRAP" = "yes" ]; then
		yes '' | make ARCH=$XKARCH CROSS_COMPILE=${CROSS_COMPILE} olddefconfig
	else
		yes '' | make ARCH=$XKARCH olddefconfig
	fi

	sed -i "s/.*DEBUG_INFO.*/\\# DEBUG_INFO is not set/" .config
	sed -i "s/^CONFIG_DEBUG_KERNEL.*/\\# CONFIG_DEBUG_KERNEL is not set/" .config
}

build() {
	case $BARCH in
		amd64)
			export XKARCH="x86_64"
			export IMAGELOC="arch/x86/boot/bzImage"
			;;
		i386)
			export XKARCH="i386"
			export IMAGELOC="arch/x86/boot/bzImage"
			;;
		arm64)
			export XKARCH="arm64"
			export IMAGELOC="arch/arm64/boot/Image"
			;;
		armhf|armel)
			export XKARCH="arm"
			export IMAGELOC="arch/arm/boot/zImage"
			;;
		mips64|mips64el|mips|mipsel)
			export XKARCH="mips"
			export IMAGELOC="vmlinux"
			;;
		ppc64le|ppc64)
			export XKARCH="powerpc"
			export IMAGELOC="vmlinux"
			;;
		riscv64|riscv32)
			export XKARCH="riscv"
			export IMAGELOC="vmlinux"
			;;
		*)
			echo "Architecture is not set or is not supported by Ataraxia Linux"
			exit 1
	esac

	cd "$SRC"/$name-$version
	patch -Np1 -i "$STUFF"/linux/1-2-lib-Add-support-for-ZSTD-compressed-kernel.diff
	patch -Np1 -i "$STUFF"/linux/2-2-x86-Add-support-for-ZSTD-compressed-kernel.diff
	patch -Np1 -i "$STUFF"/linux/wireguard.patch
	patch -Np1 -i "$STUFF"/linux/blk.patch
	patch -Np1 -i "$STUFF"/linux/scsi.patch
	patch -Np1 -i "$STUFF"/linux/muqss.patch

	sed -i 's|return elevator_get(q, "mq-deadline", false);|return elevator_get(q, "bfq", false);|' block/elevator.c

	case $BARCH in
		riscv64|riscv32)
			patch -Np1 -i "$STUFF"/linux/riscv.patch
			;;
	esac

	unset LDFLAGS
	make mrproper


	if [ "$USEBOOTSTRAP" != "yes" ]; then
		if [ -f /boot/config ]; then
			cp /boot/config .config
		else
			generate_config
		fi
	else
		generate_config
	fi

	if [ "$USEBOOTSTRAP" = "yes" ]; then
		yes '' | make ARCH=$XKARCH CROSS_COMPILE=${CROSS_COMPILE}
	else
		yes '' | make ARCH=$XKARCH
	fi

	if [ "$USEBOOTSTRAP" = "yes" ]; then
		make ARCH=$XKARCH CROSS_COMPILE=${CROSS_COMPILE} INSTALL_MOD_STRIP=1 INSTALL_MOD_PATH="$PKG"/usr modules_install
	else
		make ARCH=$XKARCH INSTALL_MOD_STRIP=1 INSTALL_MOD_PATH="$PKG"/usr modules_install
	fi

	depmod -a -v -b "$PKG"/usr ${kver}-ataraxia

	case $BARCH in
		arm64|armhf|armel)
			if [ "$USEBOOTSTRAP" = "yes" ]; then
				make ARCH=$XKARCH CROSS_COMPILE=${CROSS_COMPILE} INSTALL_DTBS_PATH="$PKG"/boot/dtbs dtbs_install
			else
				make ARCH=$XKARCH INSTALL_DTBS_PATH="$PKG"/boot/dtbs dtbs_install
			fi
			;;
	esac

	mkdir -p "$PKG"/boot
	cp "$IMAGELOC" "$PKG"/boot/vmlinuz-${version}-ataraxia
	cp .config "$PKG"/boot/config-${version}-ataraxia

	for a in vmlinuz config; do
		ln -sf ${a}-${version}-ataraxia "$PKG"/boot/$a
	done

	rm -rf "$PKG"/usr/lib/modules/${kver}-ataraxia/build
	rm -rf "$PKG"/usr/lib/modules/${kver}-ataraxia/source
}
